{"version":3,"sources":["../../../../../../../../assets/resources/Script/view/games/doushouqi/assets/resources/Script/view/games/doushouqi/Animal_blue.js"],"names":["Com","require","cc","Class","extends","Component","properties","node_obj","default","type","Sprite","sp_animal","sp_icon","breakAni","Animation","dieAni","nodeBreak","Node","sp_self","sp_tip_break","is_big","is_break","row","col","animalIndex","onLoad","init","node","active","opacity","is_self","_touchCallback","_breakCallback","addTouchListener","event","customEventData","onRunSmall","start","update","dt","playAnimation","animationCall","animState","play","self","onFinished","console","log","destroy","onPlayEffect","on","onRunBig","bigFinishCall","seq","sequence","moveTo","p","scaleTo","callFunc","runAction","smallFinishCall","onMoveToTarget","targetPos","callback","moveFinishCall","scale","moveEnd","x","y","onOptionalObj","getAnimalIsBig","getAnimalIsBreak","onSetLocalZorder","zorder","setLocalZOrder","onLoadAnimal","index","animal","animalIcon","urlAnimal","onGetAnimalUrl","urlIcon","onGetAnimalIconUrl","loader","loadRes","SpriteFrame","error","spriteFrame","getComponent","onSetRowAndCol","onGetRowAndCol","obj","onDestory","onSetSelf","isSelf","onGetSelf","onGetAnimalIndex","onSetTouchCallback","touchcallback","onBreakBombCallback","breakcallback","onGetComponentStr","onHideTip","onShowSelfTip"],"mappings":"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","file":"Animal_blue.js","sourceRoot":"../../../../../../../../assets/resources/Script/view/games/doushouqi","sourcesContent":["/**\n *  @brief: 蓝色小动物\n *  @time:  2018-05-2\n *  @author: JiangTao\n * \n *  点击后变大，在此点击后变回原来大小\n */\n\n\n// var _allAnimalNames = [\"elephant\", \"lion\", \"tiger\", \"leopard\", \n// \"wolf\", \"dog\", \"cat\", \"mouse\"];\n\n// var _animalUrl = \"animal/\";\n\n// var _iconUrl = \"animal_icon/blue/\";\nvar Com = require('Com')\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        node_obj: {\n            default: null,\n            type: cc.Sprite,\n        },\n        sp_animal: {\n            default: null,\n            type: cc.Sprite,\n        },\n        sp_icon: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n        breakAni: {\n            default: null,\n            type: cc.Animation\n        },\n\n        dieAni: {\n            default: null,\n            type: cc.Animation\n        },\n\n        nodeBreak: {\n            default: null,\n            type: cc.Node\n        },\n\n        sp_self: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n        sp_tip_break: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n        is_big: false,\n\n        is_break: false,\n\n        row:   -1,\n\n        col:   -1,\n\n        animalIndex: -1,\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n\n        // this.init();\n\n    },\n\n    init: function () {\n\n        this.sp_self.node.active = false;\n\n        this.sp_tip_break.node.opacity = 0;\n\n        this.sp_tip_break.node.active = false;\n\n        this.sp_tip_break.node.opacity = 0;\n\n        this.is_big = false;    //当前是否被选中\n\n        this.is_self = false;   //是否拥有蓝色动物\n\n        this._touchCallback = null;\n\n        this._breakCallback = null;\n\n    },\n\n    // 监听点击事件\n    addTouchListener: function ( event, customEventData ) {\n\n        // console.log(\"event ==== \", customEventData);\n\n        if ( customEventData == \"break\" ) {\n\n            // this.playAnimation();\n            if ( this._breakCallback ) {\n\n                this._breakCallback( this.row, this.col, \"Animal_blue\" );\n\n            }\n\n        } else if ( customEventData == \"blue\" ) {\n\n            if ( this.is_big ) {\n\n                this.onRunSmall();\n            \n                if ( this._touchCallback ) {\n\n                    this._touchCallback( this.row, this.col, \"Animal_blue\", false );\n    \n                }\n\n            } else {\n\n                // this.onRunBig();\n\n                if ( this._touchCallback ) {\n\n                    this._touchCallback( this.row, this.col, \"Animal_blue\", true );\n    \n                }\n\n            }\n\n        }\n\n    },\n\n    start () {\n        // console.log(\" start +++++++++++++++++++++++++\")\n    },\n\n    update (dt) {\n        \n    },\n\n    // 播放爆开动画\n    playAnimation: function (  animationCall ) {\n\n        var animState = this.breakAni.play('break');\n\n        var self = this;\n\n        function onFinished (  ) {\n\n            console.log( \"onFinished\" );\n\n            self.is_break = true;\n\n            self.nodeBreak.destroy();\n\n            // 显示小动物\n            self.sp_animal.node.active = true;\n\n            self.sp_animal.node.opacity = 255;\n\n            self.sp_icon.node.active = true;\n\n            self.sp_icon.node.opacity = 255;\n\n            // if ( self._breakCallback ) {\n\n            //     self._breakCallback( self.row, self.col );\n\n            // }\n\n            if ( animationCall ) {\n\n                animationCall( self.row, self.col );\n\n            }\n\n            Com.onPlayEffect(self.animalIndex);\n\n        };\n\n        animState.on('finished',  onFinished,  this.breakAni);\n\n    },\n\n    // 变大\n    onRunBig: function (   ) {\n\n        function bigFinishCall () {\n\n            this.is_big = true;\n\n        }\n\n        // cc.scaleTo(0.05, 1.1)\n\n        var seq =   cc.sequence(cc.moveTo(0.05, cc.p(0, 14)), \n                        cc.scaleTo(0.05, 1.1),\n                        cc.callFunc(bigFinishCall, this, this.node_obj));\n\n        this.node_obj.node.runAction(seq);\n\n    },\n\n    // 缩小\n    onRunSmall: function (   ) {\n\n        // console.log( \"onRunSamll ===== \" );\n\n        function smallFinishCall () {\n\n            this.is_big = false;\n\n        }\n\n        // cc.scaleTo(0.05, 1)\n\n        var seq =   cc.sequence(cc.moveTo(0.05, cc.p(0, 4)), \n                        cc.scaleTo(0.05, 1),\n                        cc.callFunc(smallFinishCall, this, this.node_obj));\n\n        this.node_obj.node.runAction(seq);\n\n    },\n\n    //移动位置\n    /**\n     * @brief: 移动\n     * @targetPos: 移动后的位置\n     * @row: 被吃掉棋子的横坐标\n     * @col：被吃的棋子的纵坐标\n     * @callback: 移动后的回调函数\n     */\n    onMoveToTarget: function ( targetPos, row, col, callback ) {\n\n\n        var self = this;\n\n        function moveFinishCall () {\n\n            if ( callback ) {\n\n                callback( row, col );\n\n            }\n\n            // this.onRunSmall();\n            self.is_big = false;\n\n            var scale = cc.scaleTo(0.05, 1);\n\n            self.node_obj.node.runAction( scale );\n\n        }\n\n        // function moveEndFinishCall (  ) {\n\n        //     this.onRunSmall();\n\n        // };\n\n        // 计算当前移动的方向是x 方向 还是y方向\n        // console.log( \" x , y \", this.node.x, this.node.y );\n\n        // console.log( \" x , y \", targetPos.x, targetPos.y );\n\n        // var xDir = targetPos.x - this.node.x;\n\n        // var yDir = targetPos.y - this.node.y;\n\n        // if ( xDir == 0 ) {\n\n        //     // 纵向移动\n        //     xDir = targetPos.x;\n\n        //     if ( yDir > 0 ) {\n\n        //         yDir = targetPos.y - 20;\n\n        //     } else if ( yDir < 0 ) {\n\n        //         yDir = targetPos.y + 20;\n\n        //     }\n\n        // } else if ( yDir == 0) {\n\n        //     // 横向移动\n        //     yDir = targetPos.y;\n\n        //     if ( xDir > 0 ) {\n\n        //         xDir = targetPos.x - 20;\n\n        //     } else if ( xDir < 0 ) {\n\n        //         xDir = targetPos.x + 20;\n\n        //     }\n\n        // }\n\n        // var moveCall = cc.moveTo(0.2, cc.p(xDir, yDir));\n\n        var moveEnd  = cc.moveTo(0.2, cc.p(targetPos.x, targetPos.y))\n\n        // moveCall, \n        //                         cc.callFunc(moveFinishCall, this, this.node),\n\n        var seq =   cc.sequence(moveEnd,\n                                cc.callFunc(moveFinishCall, this, this.node));\n\n        this.node.runAction(seq);\n\n    },\n\n    /**\n     * 显示可以操作的对象\n     */\n    onOptionalObj: function (  ) {\n\n        if ( this.is_break ) {\n\n            this.sp_tip_break.node.active = false;\n\n            this.sp_tip_break.node.opacity = 0;\n\n            this.sp_self.node.active = true;\n\n            this.sp_self.node.opacity = 255;\n\n        } else {\n\n            this.sp_tip_break.node.active = true;\n\n            this.sp_tip_break.node.opacity = 255;\n\n            this.sp_self.node.active = false;\n\n            this.sp_self.node.opacity = 0;\n\n        }\n\n    },\n\n    // 获取当前对象是否变大了\n    getAnimalIsBig: function (  ) {\n\n        return this.is_big;\n\n    },\n\n    // 获取当前对象的箱子是否破裂\n    getAnimalIsBreak: function (  ) {\n\n        return this.is_break;\n\n    },\n\n    onSetLocalZorder: function ( zorder ) {\n\n        this.node.setLocalZOrder( zorder );\n\n    },\n\n    // 根据index变换资源 1-8\n    onLoadAnimal: function ( index ) {\n\n        // console.log(\" blue **************** \", index);\n\n        this.animalIndex = index;\n\n        var animal = this.sp_animal;\n\n        var animalIcon = this.sp_icon;\n\n        var urlAnimal = Com.onGetAnimalUrl( index );\n\n        var urlIcon = Com.onGetAnimalIconUrl( index, true );\n\n        // console.log(\" url **************** \", urlAnimal);\n\n        // console.log(\" icon **************** \", urlIcon);\n\n        cc.loader.loadRes(urlAnimal, cc.SpriteFrame, function (error, spriteFrame) {\n\n            // cc.log('Error url [' + error + ']');\n\n            if (!error) {\n\n                // myNode.getComponent(cc.Sprite)\n                animal.getComponent(cc.Sprite).spriteFrame  = spriteFrame;\n\n            }\n\n        });\n\n        cc.loader.loadRes(urlIcon, cc.SpriteFrame, function (error, spriteFrame) {\n\n            if (!error) {\n\n                animalIcon.getComponent(cc.Sprite).spriteFrame  = spriteFrame;\n\n            }\n\n        });\n\n    },\n\n    //  设置行 列坐标\n    onSetRowAndCol: function ( row, col ) {\n\n        this.row = row;\n\n        this.col = col;\n\n    },\n\n    // 获取行 列坐标\n    onGetRowAndCol: function (  ) {\n\n        var obj = {\n\n            \"row\": this.row,\n\n            \"col\": this.col,\n\n        };\n\n        return obj;\n\n    },\n\n    onDestory: function (  ) {\n\n        this.node.destroy();\n\n        // this.node_obj.node.active = false;\n\n        // this.node_obj.node.opacity = 0;\n\n        // this.playDieAnimation();\n\n    },\n\n    // \n    onSetSelf: function ( isSelf ) {\n\n        this.is_self = isSelf;\n\n    },\n\n    onGetSelf: function (  ) {\n\n        return this.is_self;\n\n    },\n\n    onGetAnimalIndex: function (  ) {\n\n        return this.animalIndex;\n\n    },\n\n    // 设置回调函数\n    onSetTouchCallback: function ( touchcallback ) {\n\n        this._touchCallback = touchcallback;\n\n    },\n\n    // 设置回调函数\n    onBreakBombCallback: function ( breakcallback ) {\n\n        this._breakCallback = breakcallback;\n\n    },\n\n    onGetComponentStr: function ( ) {\n\n        return \"Animal_blue\";\n\n    },\n\n    onHideTip: function (  ) {\n\n        this.sp_tip_break.node.active = false;\n\n        this.sp_tip_break.node.opacity = 0;\n\n        this.sp_self.node.active = false;\n\n        this.sp_self.node.opacity = 0;\n\n    },\n\n    onShowSelfTip: function (  ) {\n\n        this.sp_tip_break.node.active = false;\n\n        this.sp_tip_break.node.opacity = 0;\n\n        this.sp_self.node.active = true;\n\n        this.sp_self.node.opacity = 255;\n\n    },\n\n});\n\n"]}