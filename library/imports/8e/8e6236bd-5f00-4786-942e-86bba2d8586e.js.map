{"version":3,"sources":["../../../../../../../../assets/resources/Script/view/games/doushouqi/assets/resources/Script/view/games/doushouqi/Animal_red.js"],"names":["Com","require","cc","Class","extends","Component","properties","node_obj","default","type","Sprite","sp_animal","sp_icon","breakAni","Animation","dieAni","nodeBreak","Node","sp_up","sp_down","sp_left","sp_right","sp_self","sp_tip_break","audioClip","url","AudioClip","is_big","is_break","row","col","animalIndex","onLoad","init","node","active","opacity","is_self","_touchCallback","_breakCallback","onHideTipDir","onLoadAudio","addTouchListener","event","customEventData","onRunSmall","start","update","dt","playAnimation","animationCall","animState","play","self","onFinished","console","log","destroy","onPlayEffect","on","onRunBig","bigFinishCall","seq","sequence","moveTo","p","scaleTo","callFunc","runAction","smallFinishCall","onMoveToTarget","targetPos","callback","moveFinishCall","scale","moveEnd","x","y","onOptionalObj","getAnimalIsBig","getAnimalIsBreak","onSetLocalZorder","zorder","setLocalZOrder","onLoadAnimal","index","animal","animalIcon","urlAnimal","onGetAnimalUrl","urlIcon","onGetAnimalIconUrl","loader","loadRes","SpriteFrame","error","spriteFrame","getComponent","onSetRowAndCol","onGetRowAndCol","obj","onDestory","onSetSelf","isSelf","onGetSelf","onGetAnimalIndex","onSetTouchCallback","touchcallback","onBreakBombCallback","breakcallback","onGetComponentStr","onHideTip","onShowSelfTip"],"mappings":"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","file":"Animal_red.js","sourceRoot":"../../../../../../../../assets/resources/Script/view/games/doushouqi","sourcesContent":["/**\n *  @brief: 粉色小动物\n *  @time:  2018-05-2\n *  @author: JiangTao\n */\n\nvar Com = require('Com')\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        node_obj: {\n            default: null,\n            type: cc.Sprite,\n        },\n        sp_animal: {\n            default: null,\n            type: cc.Sprite,\n        },\n        sp_icon: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n        breakAni: {\n            default: null,\n            type: cc.Animation\n        },\n\n        dieAni: {\n            default: null,\n            type: cc.Animation\n        },\n\n        nodeBreak: {\n            default: null,\n            type: cc.Node\n        },\n\n        sp_up: {\n            default: null,\n            type: cc.Animation\n        },\n\n        sp_down: {\n            default: null,\n            type: cc.Animation\n        },\n\n        sp_left: {\n            default: null,\n            type: cc.Animation\n        },\n\n        sp_right: {\n            default: null,\n            type: cc.Animation\n        },\n\n        sp_self: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n        sp_tip_break: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n        audioClip: {\n            default: null,\n            url: cc.AudioClip,\n        },\n\n        is_big: false,\n\n        is_break: false,\n\n        row:   -1,\n\n        col:   -1,\n\n        animalIndex: -1,\n        \n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n\n        // this.init();\n\n\n\n    },\n\n    init: function () {\n\n        this.sp_self.node.active = false;\n\n        this.sp_tip_break.node.opacity = 0;\n\n        this.sp_tip_break.node.active = false;\n\n        this.sp_tip_break.node.opacity = 0;\n\n        this.is_big = false;    //当前是否被选中\n\n        this.is_self = false;   //是否拥有粉色动物\n\n        this._touchCallback = null;\n\n        this._breakCallback = null;\n\n        this.row = -1;\n\n        this.col = -1;\n\n        this.onHideTipDir();\n\n        this.onLoadAudio();\n\n    },\n\n    onLoadAudio: function (  ) {\n\n\n\n    },\n\n    // 监听点击事件\n    addTouchListener: function ( event, customEventData ) {\n\n        // console.log(\"event ==== \", customEventData);\n        \n        // if ( this.is_big ) {\n\n        //     this.onRunSmall();\n\n        //     if ( this._touchCallback ) {\n\n        //         this._touchCallback( this.row, this.col, \"Animal_pink\", false );\n\n        //     }\n\n        // }else{\n\n        // //     this.onRunBig();\n\n        //     if ( this._touchCallback ) {\n\n        //         this._touchCallback( this.row, this.col, \"Animal_pink\", true );\n\n        //     }\n\n        // }\n\n        \n\n        if ( customEventData == \"break\" ) {\n\n            // this.playAnimation();\n            if ( this._breakCallback ) {\n\n                this._breakCallback( this.row, this.col, \"Animal_red\" );\n\n            }\n\n        } else if ( customEventData == \"red\" ) {\n\n            if ( this.is_big ) {\n\n                this.onRunSmall();\n\n                if ( this._touchCallback ) {\n\n                    this._touchCallback( this.row, this.col, \"Animal_red\", false );\n    \n                }\n\n            } else {\n\n                // this.onRunBig();\n\n                if ( this._touchCallback ) {\n\n                    this._touchCallback( this.row, this.col, \"Animal_red\", true );\n    \n                }\n\n            }\n\n        }\n\n    },\n\n    start () {\n\n    },\n\n    update (dt) {\n        \n    },\n\n    // 播放爆开动画\n    playAnimation: function ( animationCall ) {\n\n        var animState = this.breakAni.play('break');\n\n        var self = this;\n\n        function onFinished (  ) {\n\n            console.log( \"onFinished\" );\n\n            self.is_break = true;\n\n            self.nodeBreak.destroy();\n\n            // 显示小动物\n            self.sp_animal.node.active = true;\n\n            self.sp_animal.node.opacity = 255;\n\n            self.sp_icon.node.active = true;\n\n            self.sp_icon.node.opacity = 255;\n\n            // if ( self._breakCallback ) {\n\n            //     self._breakCallback( self.row, self.col );\n\n            // }\n\n            if ( animationCall ) {\n\n                animationCall( self.row, self.col );\n\n            }\n\n            Com.onPlayEffect(self.animalIndex);\n\n        };\n\n        animState.on('finished',  onFinished,  this.breakAni);\n\n    },\n\n    // 变大\n    onRunBig: function (   ) {\n\n        function bigFinishCall () {\n\n            this.is_big = true;\n\n        }\n        // v cc.scaleTo(0.05, 1.1)\n        var seq =   cc.sequence(cc.moveTo(0.05, cc.p(0, 14)), \n                        cc.scaleTo(0.05, 1.1),\n                        cc.callFunc(bigFinishCall, this, this.node_obj));\n\n        this.node_obj.node.runAction(seq);\n\n    },\n\n    // 缩小\n    onRunSmall: function (   ) {\n\n        function smallFinishCall () {\n\n            this.is_big = false;\n\n            // this.onHideTipDir();\n\n        }\n        //cc.scaleTo(0.05, 1)\n        var seq =   cc.sequence(cc.moveTo(0.05, cc.p(0, 4)), \n                        cc.scaleTo(0.05, 1),\n                        cc.callFunc(smallFinishCall, this, this.node_obj));\n\n        this.node_obj.node.runAction(seq);\n\n    },\n\n    //移动位置 \n    /**\n     * @brief: 移动\n     * @targetPos: 移动后的位置\n     * @row: 被吃掉棋子的横坐标\n     * @col：被吃的棋子的纵坐标\n     * @callback: 移动后的回调函数\n     */\n    onMoveToTarget: function ( targetPos, row, col, callback ) {\n\n        var self = this;\n\n        function moveFinishCall () {\n\n            if ( callback ) {\n\n                callback( row, col );\n\n            }\n\n            // this.onRunSmall();\n            self.is_big = false;\n\n            var scale = cc.scaleTo(0.05, 1);\n\n            self.node_obj.node.runAction( scale );\n\n        };\n\n        // function moveEndFinishCall (  ) {\n\n        //     this.onRunSmall();\n\n        // };\n\n        // // 计算当前移动的方向是x 方向 还是y方向\n        // console.log( \" x , y \", this.node.x, this.node.y );\n\n        // console.log( \" x , y \", targetPos.x, targetPos.y );\n\n        // var xDir = targetPos.x - this.node.x;\n\n        // var yDir = targetPos.y - this.node.y;\n\n        // if ( xDir == 0 ) {\n\n        //     // 纵向移动\n        //     xDir = targetPos.x;\n\n        //     if ( yDir > 0 ) {\n\n        //         yDir = targetPos.y - 20;\n\n        //     } else if ( yDir < 0 ) {\n\n        //         yDir = targetPos.y + 10;\n\n        //     }\n\n        // } else if ( yDir == 0) {\n\n        //     // 横向移动\n        //     yDir = targetPos.y;\n\n        //     if ( xDir > 0 ) {\n\n        //         xDir = targetPos.x - 20;\n\n        //     } else if ( xDir < 0 ) {\n\n        //         xDir = targetPos.x + 10;\n\n        //     }\n\n        // }\n\n        // var moveCall = cc.moveTo(0.2, cc.p(xDir, yDir));\n\n        var moveEnd  = cc.moveTo(0.2, cc.p(targetPos.x, targetPos.y))\n\n        // moveCall, \n        //                         cc.callFunc(moveFinishCall, this, this.node),\n\n        var seq =   cc.sequence(moveEnd,\n                                cc.callFunc(moveFinishCall, this, this.node));\n\n        this.node.runAction(seq);\n\n    },\n\n    /**\n     * 显示可以操作的对象\n     */\n    onOptionalObj: function (  ) {\n\n        if ( this.is_break ) {\n\n            this.sp_tip_break.node.active = false;\n\n            this.sp_tip_break.node.opacity = 0;\n\n            this.sp_self.node.active = true;\n\n            this.sp_self.node.opacity = 255;\n\n        } else {\n\n            this.sp_tip_break.node.active = true;\n\n            this.sp_tip_break.node.opacity = 255;\n\n            this.sp_self.node.active = false;\n\n            this.sp_self.node.opacity = 0;\n\n        }\n\n    },\n\n    // 获取当前对象是否变大了\n    getAnimalIsBig: function (  ) {\n\n        return this.is_big;\n\n    },\n\n    // 获取当前对象的箱子是否破裂\n    getAnimalIsBreak: function (  ) {\n\n        return this.is_break;\n\n    },\n\n    onSetLocalZorder: function ( zorder ) {\n\n        this.node.setLocalZOrder( zorder );\n\n    },\n\n    // 根据index变换资源 1-8\n    onLoadAnimal: function ( index ) {\n\n        // console.log(\" pink **************** \", index);\n\n        this.animalIndex = index;\n\n        var animal = this.sp_animal;\n\n        var animalIcon = this.sp_icon;\n\n        var urlAnimal = Com.onGetAnimalUrl( index );\n\n        var urlIcon = Com.onGetAnimalIconUrl( index, false );\n\n        // console.log(\" url **************** \", urlAnimal);\n\n        // console.log(\" icon **************** \", urlIcon);\n\n        cc.loader.loadRes(urlAnimal, cc.SpriteFrame, function (error, spriteFrame) {\n\n            // cc.log('Error url [' + error + ']');\n\n            if (!error) {\n\n                // myNode.getComponent(cc.Sprite)\n                animal.getComponent(cc.Sprite).spriteFrame  = spriteFrame;\n\n            }\n\n        });\n\n        cc.loader.loadRes(urlIcon, cc.SpriteFrame, function (error, spriteFrame) {\n\n            if (!error) {\n\n                animalIcon.getComponent(cc.Sprite).spriteFrame  = spriteFrame;\n\n            }\n\n        });\n\n    },\n\n    //  设置行 列坐标\n    onSetRowAndCol: function ( row, col ) {\n\n        this.row = row;\n\n        this.col = col;\n\n    },\n\n    // 获取行 列坐标\n    onGetRowAndCol: function (  ) {\n\n        var obj = {\n\n            \"row\": this.row,\n\n            \"col\": this.col,\n\n        };\n\n        return obj;\n\n    },\n\n    onDestory: function (  ) {\n\n        this.node.destroy();\n\n        // this.node_obj.node.active = false;\n\n        // this.node_obj.node.opacity = 0;\n\n        // this.playDieAnimation();\n\n    },\n\n    // 隐藏四个方向小标\n    onHideTipDir: function (  ) {\n\n        this.sp_up.node.active = false;\n\n        this.sp_up.node.opacity = 0;\n\n        this.sp_down.node.active = false;\n\n        this.sp_down.node.opacity = 0;\n\n        this.sp_left.node.active = false;\n\n        this.sp_left.node.opacity = 0;\n\n        this.sp_right.node.active = false;\n\n        this.sp_right.node.opacity = 0;\n\n    },\n\n    // \n    onSetSelf: function ( isSelf ) {\n\n        this.is_self = isSelf;\n\n    },\n\n    onGetSelf: function (  ) {\n\n        return this.is_self;\n\n    },\n\n    onGetAnimalIndex: function (  ) {\n\n        return this.animalIndex;\n\n    },\n\n    // 设置回调函数\n    onSetTouchCallback: function ( touchcallback ) {\n\n        this._touchCallback = touchcallback;\n\n    },\n\n    // 设置回调函数\n    onBreakBombCallback: function ( breakcallback ) {\n\n        this._breakCallback = breakcallback;\n\n    },\n\n    onGetComponentStr: function ( ) {\n\n        return \"Animal_red\";\n\n    },\n\n    onHideTip: function (  ) {\n\n        this.sp_tip_break.node.active = false;\n\n        this.sp_tip_break.node.opacity = 0;\n\n        this.sp_self.node.active = false;\n\n        this.sp_self.node.opacity = 0;\n\n    },\n\n    onShowSelfTip: function (  ) {\n\n        this.sp_tip_break.node.active = false;\n\n        this.sp_tip_break.node.opacity = 0;\n\n        this.sp_self.node.active = true;\n\n        this.sp_self.node.opacity = 255;\n\n    },\n\n});\n\n"]}