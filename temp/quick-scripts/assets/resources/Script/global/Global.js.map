{"version":3,"sources":["Global.js"],"names":["onfire","require","events","tools","texts","scenes","Global","disableAutoLogin","myUserInfo","otherUserInfo","onLogout","console","log","game","S2C_LOGOUT","on","onLogout_callback","offLogout","un","showMessageDialog","hall","PROMPT","LOGOUT","cc","director","getScene","name","LOGIN_SCENE","loadScene","module","exports"],"mappings":";;;;;;AAAA,IAAIA,SAASC,QAAQ,QAAR,CAAb;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;AACA,IAAIE,QAAQF,QAAQ,OAAR,CAAZ;AACA,IAAIG,QAAQH,QAAQ,MAAR,CAAZ;AACA,IAAII,SAASJ,QAAQ,WAAR,CAAb;;AAEA;;;AAGA,IAAIK,SAAS;AACT;;;AAGAC,sBAAkB,KAJT;;AAMT;;;AAGAC,gBAAY,IATH;;AAWT;;;AAGAC,mBAAe,IAdN;;AAgBT;;;AAGAC,cAAU,oBAAY;AAClBC,gBAAQC,GAAR,CAAY,UAAZ;AACAD,gBAAQC,GAAR,CAAYV,OAAOW,IAAP,CAAYC,UAAxB;AACAd,eAAOe,EAAP,CAAUb,OAAOW,IAAP,CAAYC,UAAtB,EAAkCR,OAAOU,iBAAzC;AACH,KAvBQ;;AAyBT;;;AAGAC,eAAW,qBAAY;AACnBjB,eAAOkB,EAAP,CAAUhB,OAAOW,IAAP,CAAYC,UAAtB;AACH,KA9BQ;;AAgCT;;;AAGAE,uBAAmB,6BAAY;AAC3Bb,cAAMgB,iBAAN,CAAwBf,MAAMgB,IAAN,CAAWC,MAAnC,EAA2CjB,MAAMgB,IAAN,CAAWE,MAAtD;AACAhB,eAAOC,gBAAP,GAA0B,IAA1B;AACA,YAAIgB,GAAGC,QAAH,CAAYC,QAAZ,GAAuBC,IAAvB,IAA+BrB,OAAOe,IAAP,CAAYO,WAA/C,EAA4D;AACxDJ,eAAGC,QAAH,CAAYI,SAAZ,CAAsBvB,OAAOe,IAAP,CAAYO,WAAlC;AACH;AACJ;AAzCQ,CAAb;;AA4CAE,OAAOC,OAAP,GAAiBxB,MAAjB","file":"Global.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\resources\\Script\\global","sourcesContent":["var onfire = require(\"onfire\");\r\nvar events = require(\"CustomEvents\");\r\nvar tools = require(\"Tools\");\r\nvar texts = require(\"Text\");\r\nvar scenes = require(\"SceneList\");\r\n\r\n/**\r\n * 全局对象\r\n */\r\nvar Global = {\r\n    /**\r\n     * 是否禁用自动登录\r\n     */\r\n    disableAutoLogin: false,\r\n\r\n    /**\r\n     * 我的用户信息\r\n     */\r\n    myUserInfo: null,\r\n\r\n    /**\r\n     * 对手的用户信息\r\n     */\r\n    otherUserInfo: null,\r\n\r\n    /**\r\n     * 监听强制登出事件\r\n     */\r\n    onLogout: function () {\r\n        console.log(\"onLogout\");\r\n        console.log(events.game.S2C_LOGOUT);\r\n        onfire.on(events.game.S2C_LOGOUT, Global.onLogout_callback);\r\n    },\r\n\r\n    /**\r\n     * 取消监听强制登出事件\r\n     */\r\n    offLogout: function () {\r\n        onfire.un(events.game.S2C_LOGOUT);\r\n    },\r\n\r\n    /**\r\n     * 强制登录回调\r\n     */\r\n    onLogout_callback: function () {\r\n        tools.showMessageDialog(texts.hall.PROMPT, texts.hall.LOGOUT);\r\n        Global.disableAutoLogin = true;\r\n        if (cc.director.getScene().name != scenes.hall.LOGIN_SCENE) {\r\n            cc.director.loadScene(scenes.hall.LOGIN_SCENE);\r\n        }\r\n    },\r\n};\r\n\r\nmodule.exports = Global;"]}