{"version":3,"sources":["Doushouqi_save.js"],"names":["Com","require","onfire","requestHandler","config","cc","Class","extends","Component","properties","sp_head_red","default","type","Sprite","sp_head_blue","node_table","Node","sp_tip","label_tip","Label","sp_alert","label_alert","label_red_btn","label_blue_btn","node_dir","sp_up","Animation","sp_down","sp_left","sp_right","sp_destory","sp_white","sp_red_time","sp_blue_time","label_red_time","label_blue_time","nodeResult","btn_help","Button","node_help","myName","otherName","animal_blue_Prefab","Prefab","animal_red_Prefab","animal_Prefab","empty_prefab","result_prefab","defalutTiem","count","onLoad","onLoadAudio","deleteItem","isNetwork","gameData","_doItUID","_selfUID","_otherUID","init","initUI","onOptionalTimeAni","listenerList","onReceive_login","onReceive_start","onReceive_move","onReceive_talk","onReceive_animal","onReceive_overGame","onReceive_qiuHeOther","onReceive_qiuHeAgreeOther","forEach","on","element","addButtonListener","onDestroy","un","start","data1","data2","console","log","allData","string","openUpdate","row","col","myCode","doItID","_isFirst","firstCode","baseData","firstUID","firstAnimal","setItem","getItem","animalCode","tableNodes","animal","getComponent","playAnimation","onAnimaltionBreakCallback","bind","onReceive_MyCode","data","_myCode","index0","index1","doItObj","targetPos","x","allPos","y","selectedPos","moveData","selectedRow","selectedCol","winAnimalIdx","node","setLocalZOrder","onMoveToTarget","onMoveCallbackDel","onCheckOptionSelf","onRecive_doIt","onResultCall","closeUpdate","onAddResultLayer","scheduleOnce","_alertStr","onAddAlert","onAddTip","onSendGameData","packgeName","sendRequest","active","scale","opacity","scaleY","onHideTipDir","_blueAnimal","_redAnimal","_rand01","_blueSelf","_pinkSelf","_isShowTip","_isShowAlert","_isCanOptional","_selectedPoint","_rand0Count","_rand1Count","_firstAnimalIndex","_helpNode","_selectedObj","_compareState","eq","gt","lt","same","width","winSize","height","Vec2","allBtnEmpty","pos","emptyNode","index","jndex","getChildByName","toString","position","onInitTable","$this","EventType","TOUCH_START","event","TOUCH_END","onTouchListener","customEventData","iDo","onHideAlert","onLoadHeadImg","onDelRepeatRandBlue","onDelRepeatRandPink","btnEmpty","_componentStr","_gameDataContent","length","instantiate","addComponent","parent","onSetRowAndCol","onSetTouchCallback","onEmptyTouchCallback","onCreateAnimal","animalStatus","isDie","_animal","onLoadAnimal","onBreakBombCallback","onBombTouchCallback","onTouchCallback","onRandAnimal","rand01","onRandomNum","idx","randNum","push","splice","objCode","isSelected","onIsSelfdoit","onRunBig","onCheckRoundMove","onRunSmall","onCheckOptionalValid","onClearAlgorithm","onCheckCompare","r","c","moveR","moveC","componentStr","animalIdx","selected0","selected1","moveState","onPlayGameEffect","onMoveCallback","onPlayDestoryAni","onDestory","onGetAnimalIndex","targetDie","onSetOptionalTime","onResetStatus","onRedBoardAni","onBlueBoardAni","onShowValidOptionalObj","isClear","targetObj","selectedIndex","targetIndex","compareState","onCheckAnimalSame","isSame","targetComStr","selectedStr","tempNode","comStr","currCode","onGetAnimalCode","getAnimalIsBreak","onShowSelfTip","onHideTip","onOptionalObj","getAnimalIsBig","onClearTabel","onRestart","interval","repeat","delay","schedule","onTimeDownCallback","unschedule","onCanOptionalObj","obj","moveDir","up","down","left","right","isShowDir","onFindAnimalOfIndex","onTipMoveDirection","onRepeatAction","nodeObj","dirStr","animState","play","wrapMode","WrapMode","Loop","repeatCount","Infinity","onStopRepeatAction","stop","onDestoryAnimation","self","onFinished","optionalObj","onFinishCallback","scale2","scaleTo","runAction","delayTime","seq","sequence","callFunc","scale1","onWhiteBoardAni","tipStr","onShowtip","onActionFinishCall","onHidetip","descStr","labelRedBtn","labelBlueBtn","onShowAlert","youWin","resutlLayer","onCallback","onInitUI","onSetGameResultInfo"],"mappings":"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","file":"Doushouqi_save.js","sourceRoot":"../../../../../../../../assets/resources/Script/view/games/doushouqi","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\n/**\n * @brief: 斗兽棋主场景(单机-网络版调试)（如果没有网络的情况下，可以完单机的）\n * @time:  2018-05-8\n * @author: JiangTao kungfupandajt@163.com\n */\n\nvar Com             = require('Com');\nvar onfire          = require(\"onfire\");           //处理事件的类库\nvar requestHandler  = require(\"RequestHandler\");    \nvar config          = require(\"config\");                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n        sp_head_red: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n        sp_head_blue: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n        node_table: {\n            default: null,\n            type: cc.Node,\n        },\n\n        sp_tip: {\n            default: null,\n            type: cc.Sprite,\n        },\n\n        label_tip: {\n            default: null,\n            type: cc.Label,\n        },\n\n        sp_alert: {\n            default:null,\n            type:cc.Sprite,\n        },\n\n        label_alert: {\n            default:null,\n            type:cc.Label,\n        },\n\n        // 红色按钮文字\n        label_red_btn: {\n            default:null,\n            type:cc.Label,\n        },\n\n        // 蓝色按钮文字\n        label_blue_btn: {\n            default:null,\n            type:cc.Label,\n        },\n\n        node_dir: {\n            default: null,\n            type:cc.Node\n        },\n\n        sp_up: {\n            default: null,\n            type: cc.Animation\n        },\n\n        sp_down: {\n            default: null,\n            type: cc.Animation\n        },\n\n        sp_left: {\n            default: null,\n            type: cc.Animation\n        },\n\n        sp_right: {\n            default: null,\n            type: cc.Animation\n        },\n\n        sp_destory: {\n            default: null,\n            type: cc.Animation\n        },\n\n        // 白板\n        sp_white: {\n            default: null,\n            type: cc.Sprite\n        },\n\n        // 红色方时间面板\n        sp_red_time: {\n            default: null,\n            type: cc.Sprite\n        },\n\n        // 蓝色方时间面板\n        sp_blue_time: {\n            default: null,\n            type: cc.Sprite\n        },\n\n        // 红方时间\n        label_red_time: {\n            default: null,\n            type: cc.Label\n        },\n\n        // 蓝方时间\n        label_blue_time: {\n            default: null,\n            type: cc.Label\n        },\n\n        nodeResult: {\n            default: null,\n            type: cc.Node\n        },\n\n        btn_help: {\n            default: null,\n            type: cc.Button\n        },\n\n        node_help: {\n            default: null,\n            type: cc.Node\n        },\n\n        myName: cc.Label,\n\n        otherName: cc.Label,\n\n        animal_blue_Prefab: cc.Prefab,      // 蓝方预制资源\n\n        animal_red_Prefab: cc.Prefab,       // 红方预制资源\n\n        animal_Prefab: cc.Prefab,           // 默认动物预制资源\n\n        empty_prefab: cc.Prefab,            // 空的预制资源\n\n        result_prefab: cc.Prefab,           // 结果预知资源\n\n        defalutTiem:30,     //  默认操作时间\n\n        count: 30,          //  倒计时计次\n        \n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n\n        // 加载斗兽棋音效\n        Com.onLoadAudio();\n\n        Com.deleteItem();\n\n        // 单机模式\n        if(!config.isNetwork){\n\n            this.gameData = [\n\n                                [0, 0, 0, 0],\n                                [0, 0, 0, 0],\n                                [0, 0, 0, 0],\n                                [0, 0, 0, 0],\n\n                            ];\n\n            this._doItUID = 1234567;\n\n            this._selfUID = 1234567;\n\n            this._otherUID = 7654321;\n\n            this.init();\n\n            this.initUI();\n\n            this.onOptionalTimeAni();\n\n        } else {\n\n            // 网络监听列表\n            var listenerList = [\n                [\"gameData\", this.onReceive_login, this],\n                [\"s_douShouQi_start\", this.onReceive_start, this],\n                [\"s_douShouQi_move\", this.onReceive_move, this],\n                [\"s_douShouQi_talk\", this.onReceive_talk, this],\n                [\"s_douShouQi_animal\", this.onReceive_animal, this],\n                [\"s_douShouQi_overGame\", this.onReceive_overGame, this],\n                [\"s_douShouQi_qiuHeOther\", this.onReceive_qiuHeOther, this],\n                [\"s_douShouQi_qiuHeAgreeOther\", this.onReceive_qiuHeAgreeOther, this],\n            ];\n\n            listenerList.forEach(element => {\n\n                onfire.on(element[0],element[1],element[2]);\n\n            });\n        }\n\n        this.addButtonListener();\n\n    },\n\n    // 销毁时调用\n    onDestroy(){\n\n        var listenerList = [\n            [\"gameData\", this.onReceive_login, this],\n            [\"s_douShouQi_start\", this.onReceive_start, this],\n            [\"s_douShouQi_move\", this.onReceive_move, this],\n            [\"s_douShouQi_talk\", this.onReceive_talk, this],\n            [\"s_douShouQi_animal\", this.onReceive_animal, this],\n            [\"s_douShouQi_overGame\", this.onReceive_overGame, this],\n            [\"s_douShouQi_qiuHeOther\", this.onReceive_qiuHeOther, this],\n            [\"s_douShouQi_qiuHeAgreeOther\", this.onReceive_qiuHeAgreeOther, this],\n        ];\n\n        // 移除监听\n        listenerList.forEach(element => {\n\n            onfire.un(element[0]);\n\n        });\n    },\n\n    start () {\n\n        \n\n    },\n\n// ******************    数据通讯   ******************\n\n    // 进入游戏\n    onReceive_login ( data1, data2) {\n\n        console.log( \" onReceive_login ++++++++++++++++++++++++ Doushouqi \" );\n\n        this.allData            = data1;\n\n        this.gameData           = data1[\"gameData\"];\n\n        // 初始化用户数据\n        this.myName.string      = data1[\"myUserInfo\"][\"name\"];\n\n        this.otherName.string   = data1[\"otherUserInfo\"][\"name\"];\n\n        this._selfUID           = data1[\"myUserInfo\"][\"uid\"];\n\n        this._otherUID          = data1[\"otherUserInfo\"][\"uid\"];\n\n        this._doItUID           = data1[\"s_douShouQi_doIt\"][\"doIt\"];\n\n        // 初始化 斗兽棋棋盘\n        this.init();\n\n        this.initUI();\n\n    },\n\n    // 游戏开始\n    onReceive_start( data1, data2){\n\n        console.log(\"***************c_doushouqi_play***************\", data1[\"success\"])\n\n        if ( data1[\"success\"] == 0 ){\n\n            this.openUpdate();\n\n            this.onOptionalTimeAni();\n\n        }\n\n    },\n\n    // 点击箱子后请求到的动物\n    onReceive_animal( data1, data2 ) {\n\n        if (data1[\"success\"] == 0) {\n\n            var row         = data1[\"r\"];\n\n            var col         = data1[\"c\"];\n\n            var myCode      = -1;\n\n            // 切换操作对象\n            var doItID      = data1[\"s_douShouQi_doIt\"][\"doIt\"];\n\n            if ( this._isFirst ) {\n\n                this._isFirst = false;\n\n                var firstCode = 0;\n\n                if ( data1[\"animalIndex\"] < 10 ) {\n\n                    // 红色 都属于第一个操作用户的\n                    firstCode = 1;\n\n                } else {\n\n                    // 蓝色 都属于第一个操作用户的\n                    firstCode = 2;\n\n                }\n\n                var baseData = {\n\n                    firstUID: this._doItUID,\n\n                    firstAnimal: firstCode,\n\n                };\n\n                Com.setItem( baseData );\n\n                // 确定自己动物的颜色\n                if ( this._doItUID == this._selfUID ){\n\n                    myCode = this._selfUID;\n\n                } else {\n\n                    myCode = this._otherUID;\n\n                }\n\n            } else {\n\n                var firstAnimal = Com.getItem().firstAnimal;\n\n                var firstUID    = Com.getItem().firstUID;\n\n                var animalCode = 0;\n\n                if ( firstUID == this._selfUID ) {\n\n                    if ( firstAnimal == 1 ) {\n\n                        // 所有红色动物mycode都标记为this._selfUID\n                        if ( data1[\"animalIndex\"] < 10 ) {\n\n                            myCode = this._selfUID;\n\n                        } else {\n\n                            myCode = this._otherUID;\n\n                        }\n\n                    } else {\n\n                        // 所有蓝色动物mycode都标记为this._selfUID\n                        if ( data1[\"animalIndex\"] > 10 ) {\n\n                            myCode = this._selfUID;\n\n                        } else {\n\n                            myCode = this._otherUID;\n\n                        }\n\n                    }\n\n                } else {\n\n                    if ( firstAnimal == 1 ) {\n\n                        // 所有红色动物mycode都标记为this._otherUID\n                        if ( data1[\"animalIndex\"] < 10 ) {\n\n                            myCode = this._otherUID;\n\n                        } else {\n\n                            myCode = this._selfUID;\n\n                        }\n\n                    } else {\n\n                        // 所有蓝色动物mycode都标记为this._otherUID\n\n                        if ( data1[\"animalIndex\"] > 10 ) {\n\n                            myCode = this._otherUID;\n\n                        } else {\n\n                            myCode = this._selfUID;\n\n                        }\n\n                    }\n\n                }\n\n            }\n\n            this._doItUID   = doItID; \n\n            this.tableNodes[row][col].animal.getComponent(\"Animal\").playAnimation( this.onAnimaltionBreakCallback.bind(this), data1[\"animalIndex\"], myCode );\n\n        }\n\n    },\n\n    onReceive_MyCode ( data ) {\n\n        console.log( \" onReceive_MyCode ==== \", data[\"myCode\"] );\n\n        this._myCode = data[\"myCode\"];\n\n    },\n\n    // 移动动物\n    onReceive_move( data1, data2 ) {\n\n        // console.log( \"  onReceive_move ++++++++++++++++++++++++++++ \" );\n\n        if ( data1[\"success\"] != 0 ) {\n\n            console.log( \"  success move errcode \", data1[\"success\"]);\n            return;\n        }\n\n        var index0      = data1['r'];\n\n        var index1      = data1['c'];\n\n        var row         = data1['moveR'];\n\n        var col         = data1['moveC'];\n\n        var myCode      = -1;\n\n        var doItObj     = data1[\"s_douShouQi_doIt\"];\n\n        if ( doItObj != null ) {\n\n            var doItID      = data1[\"s_douShouQi_doIt\"][\"doIt\"];\n\n            this._doItUID   = doItID;\n\n        }\n\n        var targetPos   = { x:this.allPos[row][col].x,\n                            y:this.allPos[row][col].y };\n\n        var selectedPos   = { x:this.allPos[index0][index1].x,\n                            y:this.allPos[index0][index1].y };\n\n        var moveData    = { targetPos:targetPos, selectedRow:index0, selectedCol:index1, row:row, col:col, winAnimalIdx:data1[\"animalIndex\"] };\n\n        this.tableNodes[index0][index1].animal.getComponent(\"Animal\").node.setLocalZOrder(99);\n\n        this.tableNodes[index0][index1].animal.getComponent(\"Animal\").onMoveToTarget( moveData, this.onMoveCallbackDel.bind(this) );\n\n        this.onCheckOptionSelf();\n        \n    },\n\n    // 操作方 暂时不用\n    onRecive_doIt( data1, data2 ) {\n\n\n    },\n\n    // 游戏结束\n    onReceive_overGame( data1, data2 ) {\n        // this.closeUpdate();\n\n        console.log( \"onReceive_overGame s \", data1[\"youWin\"] );\n\n        this.onResultCall = function () {\n\n            console.log( \" onResultCall  === \" );\n\n            // 清除本地缓存的数据：记录的自己的动物的颜色以及UID\n            Com.deleteItem();\n\n            this.closeUpdate();\n\n            this.onAddResultLayer( data1[\"youWin\"] );\n\n\n        };\n        \n        this.scheduleOnce( this.onResultCall,  0.5);\n\n        // 切换场景\n        // cc.director.loadScene(\"hall\",function(){\n\n        //     onfire.fire(\"hall_gameOver\",data1, data2);\n\n        // });\n\n    },\n\n    // 求和询问提示\n    onReceive_qiuHeOther (  ) {\n        \n        this._alertStr = \"qiuhe\";\n\n        this.onAddAlert( \"对方求和,是否同意?\" );\n\n    },\n\n    onReceive_qiuHeAgreeOther (  ) {\n\n        this.onAddTip( \"对方拒绝求和!\" );\n\n    },\n\n    // 发送数据\n    /**\n     * @brief: 发送数据到服务器\n     * @data: 发送的数据\n     * @packgeName: 发送的数据的包明\n     */\n    onSendGameData: function ( packgeName, data ) {\n\n        requestHandler.sendRequest(packgeName, data);\n\n    },\n\n    onReceive_talk: function ( data1, data2 ) {\n\n        if ( data1[\"success\"] == 0 ) {\n\n\n\n        }\n\n    },\n    \n\n// ******************    数据通讯   ******************\n\n    // update (dt) {},\n\n    initUI: function (  ) {\n\n        this.sp_tip.node.active = true;\n\n        this.sp_tip.node.scale = 0;\n\n        this.sp_alert.node.active = true;\n\n        this.sp_alert.node.scale = 0;\n\n        this.sp_destory.node.active = false;\n\n        this.sp_destory.node.opacity = 0;\n\n        this.sp_white.node.active = true;\n\n        this.sp_white.node.opacity = 255;\n\n        this.sp_red_time.node.active = true\n\n        this.sp_red_time.node.opacity = 255;\n\n        this.sp_red_time.node.scaleY = 0;\n\n        this.sp_blue_time.node.active = true\n\n        this.sp_blue_time.node.opacity = 255;\n\n        this.sp_blue_time.node.scaleY = 0;\n\n        this.onHideTipDir();\n\n        this.node_dir.setLocalZOrder(100);\n\n        this.sp_destory.node.setLocalZOrder(100);\n\n    },\n\n    // init 初始化\n    init: function (  ) {\n\n        this._blueAnimal    = [];\n\n        this._redAnimal     = [];\n\n        this._rand01        = -1;\n\n        this._blueSelf      = true;\n\n        this._pinkSelf      = false;\n\n        this._isShowTip     = false;\n\n        this._isShowAlert   = false;\n\n        this._isCanOptional = false;        //当前是否可以进行操作\n\n        this._selectedPoint = [-1, -1];     //记录被选中的动物\n\n        this._alertStr      = \"\";   //标记当前是求和还是认输按钮 默认是空\n\n        this._rand0Count    = 0;\n\n        this._rand1Count    = 0;\n\n        this._isFirst       = true;\n\n        this._firstAnimalIndex = -1;\n\n        this._helpNode      = null;\n\n        // this._selfUID       = -1;   //自己的UUID\n\n        // this._doItUID       = -1;   //操作方的UUID\n\n        // row:行\n        this._selectedObj= {row:-1, col:-1, count:0}; //\n\n        // eq:相等 gt:(greater than) 大于 lt:(less than) 小与\n        this._compareState = { eq:0, gt:1, lt:2, same:3 };\n\n        this.width = cc.winSize.width;\n\n        this.height = cc.winSize.height;\n\n        // 所有点集合\n        this.allPos =   [   [cc.Vec2, cc.Vec2, cc.Vec2, cc.Vec2],\n                            [cc.Vec2, cc.Vec2, cc.Vec2, cc.Vec2],\n                            [cc.Vec2, cc.Vec2, cc.Vec2, cc.Vec2],\n                            [cc.Vec2, cc.Vec2, cc.Vec2, cc.Vec2],\n                        ];\n\n        this.allBtnEmpty = [\n\n                            [cc.Button, cc.Button, cc.Button, cc.Button],\n                            [cc.Button, cc.Button, cc.Button, cc.Button],\n                            [cc.Button, cc.Button, cc.Button, cc.Button],\n                            [cc.Button, cc.Button, cc.Button, cc.Button],\n                            \n                        ];\n\n        var pos = null;\n\n        var emptyNode = null;\n\n        for (let index = 0; index < 4; index++) {\n\n            for (let jndex = 0; jndex < 4; jndex++ ) {\n\n                emptyNode = this.node_table.getChildByName(\"node_pos_\" + index.toString() + jndex.toString())\n\n                pos = emptyNode.position;\n\n                this.allPos[index][jndex] = pos;\n\n            }\n\n        }\n\n        // 所有动物集合\n\n        this.tableNodes =   [   [{}, {}, {}, {}],\n                                [{}, {}, {}, {}],\n                                [{}, {}, {}, {}],\n                                [{}, {}, {}, {}],\n                            ];\n\n        this.onInitTable();\n\n    },\n\n    addButtonListener: function (  ) {\n\n        var $this = this;\n\n        this.btn_help.node.on(cc.Node.EventType.TOUCH_START, function (event) {\n            \n            console.log(\"TOUCH_START\")\n\n            $this.node_help.active = true;\n\n            $this.node_help.opacity = 255;\n\n        });\n\n        this.btn_help.node.on(cc.Node.EventType.TOUCH_END, function (event) {\n\n            $this.node_help.active = false;\n\n            $this.node_help.opacity = 0;\n\n        });\n\n    },\n\n    // 按钮事件监听\n    onTouchListener: function ( event, customEventData ){\n\n        console.log( \" customEventData \", customEventData );\n\n        if ( customEventData == \"back\" ) {\n\n            this.onAddTip( \"back-home\" ); \n\n            this.onAddResultLayer( 0 );\n\n        } else if ( customEventData == \"qiuhe\" ) {\n\n            this._alertStr = \"qiuhe\";\n\n            var data = {};\n\n            this.onSendGameData(\"c_douShouQi_qiuHe\", data);\n\n        } else if ( customEventData == \"renshu\" ) {\n\n            this._alertStr = \"renshu\";\n\n            this.onAddAlert( \"您确定认输吗?\" );\n\n        } else if ( customEventData == \"btn_refuse\" ) {\n\n            if ( this._alertStr == \"qiuhe\" ) {\n\n                var data = { iDo:1 };\n\n                this.onSendGameData(\"c_douShouQi_qiuHeAgree\", data);\n\n            } else if ( this._alertStr == \"renshu\" ) {\n\n\n\n            }\n\n            // 拒绝按钮\n            this.onHideAlert();\n\n        } else if ( customEventData == \"btn_agree\" ) {\n\n            if ( this._alertStr == \"qiuhe\" ) {\n\n                var data = { iDo:0 };\n\n                this.onSendGameData(\"c_douShouQi_qiuHeAgree\", data);\n\n            } else if ( this._alertStr == \"renshu\" ) {\n\n                var data = {};\n\n                this.onSendGameData(\"c_douShouQi_renShu\", data);\n                \n            }\n            \n            // 确认按钮\n            this.onHideAlert();\n\n        }\n\n    },\n\n    // 玩家头像加载\n    onLoadHeadImg: function (  ) {\n\n\n\n    },\n\n    // 初始化玩家棋盘\n    onInitTable: function () {\n        // 随机生成动物\n        /**\n         *  首先：当前格子生成那个颜色的动物 0 蓝色动物 1 粉色动物\n         *  其次：根据颜色，随机生成相应的动物。【1-8】 分别代表不同的动物，去重随机，如果发现\n         *      随机到相同的数字，则删除，重新随机\n         *  在每次随机的时候都要判断0或1（也就是蓝色动物或粉色动物）是否已经随机了8中动物，如果随机够了，则不在\n         *  进行随机；此时只随机另一种颜色的动物。 如果两种动物都随机够了，则停止。\n         */\n        this.onDelRepeatRandBlue();\n\n        this.onDelRepeatRandPink();\n\n        var btnEmpty = null;\n\n        var _componentStr = '';\n\n        var _gameDataContent = 0;\n\n        for (let index = 0; index < this.gameData.length; index++) {\n\n            for (let jndex =0; jndex < this.gameData[index].length; jndex++ ) {\n\n                _gameDataContent = this.gameData[index][jndex];\n\n                btnEmpty = cc.instantiate( this.empty_prefab );\n\n                btnEmpty.addComponent('BtnEmpty');\n\n                btnEmpty.x = this.allPos[index][jndex].x;\n\n                btnEmpty.y = this.allPos[index][jndex].y;\n\n                btnEmpty.setLocalZOrder(0);\n\n                btnEmpty.parent = this.node_table;\n\n                this.allBtnEmpty[index][jndex] = btnEmpty;\n\n                btnEmpty.getComponent('BtnEmpty').onSetRowAndCol( index, jndex );\n\n                btnEmpty.getComponent('BtnEmpty').onSetTouchCallback( this.onEmptyTouchCallback.bind(this) );\n\n                // 初始化小动物\n                this.onCreateAnimal( index, jndex, _gameDataContent );\n\n            }\n\n        }\n\n    },\n\n    onCreateAnimal: function ( index, jndex, animalStatus ) {\n\n        if ( animalStatus == -1 ) {\n\n            this.tableNodes[index][jndex] = { isDie:true, animal:null };\n            return;\n\n        }\n\n        var _animal = cc.instantiate( this.animal_Prefab );\n\n        _animal.addComponent('Animal');\n                \n        _animal.getComponent('Animal').init();\n        \n        _animal.x = this.allPos[index][jndex].x;\n\n        _animal.y = this.allPos[index][jndex].y;\n\n        _animal.active = true;\n\n        _animal.opacity = 255;\n\n        _animal.setLocalZOrder(10);\n\n        _animal.parent = this.node_table;\n\n        console.log( \" 创建动物： \", animalStatus );\n\n        if ( animalStatus == 0 ) {\n\n            // 箱子 不需要任何操作\n\n        } else {\n\n            _animal.getComponent('Animal').onLoadAnimal( animalStatus );\n\n            // onSetAnimalCode\n            // var stoargeUID = Com.getItem().firstUID;\n\n            // if ( stoargeUID == this._selfUID ) {\n\n            //     _animal.getComponent('Animal').onSetAnimalCode( Com.getItem().myAnimal );\n\n            // } else {\n\n            //     _animal.getComponent('Animal').onSetAnimalCode( Com.getItem().otherAnimal );\n\n            // }\n\n        }\n\n        this.tableNodes[index][jndex] = { isDie:false, animal:_animal };\n\n        _animal.getComponent('Animal').onSetRowAndCol( index, jndex );\n\n        _animal.getComponent('Animal').onBreakBombCallback( this.onBombTouchCallback.bind(this) );\n\n        _animal.getComponent('Animal').onSetTouchCallback( this.onTouchCallback.bind(this) );\n\n    },\n\n    onRandAnimal: function (  ) {\n\n        var rand01 = Com.onRandomNum(0, 2);\n\n        if ( this._rand0Count == 8 ) {\n\n            rand01 = 1;\n\n        }else if ( this._rand1Count == 8 ) {\n\n            rand01 = 0;\n\n        }\n\n        if ( rand01 == 0 ) {\n\n            this._rand0Count += 1;\n\n            return this._blueAnimal[this._rand0Count-1];\n\n        } else {\n\n            this._rand1Count += 1;\n\n            return this._redAnimal[this._rand1Count-1];\n\n        }\n\n    },\n\n    // 去重随机 蓝色动物\n    /**\n     * for(i=0;i<10;i++)                    //产生10个随机数\n        {\n            A[i]=1+rand()%10;                //得到随机数(范围在1-10之间)\n                for(j=0;j<i;j++)                 //判断和前面的数是否重复\n                    if(A[i]==A[j]) {\n                        i--;\n                        break;\n                    }  //如果重复,重新产生随机数\n        }\n     */\n    onDelRepeatRandBlue: function (  ) {\n\n        var idx = 0;\n\n        for (;idx < 8; idx++) {\n\n            var randNum = Com.onRandomNum(1, 9);\n\n            this._blueAnimal.push(randNum); \n\n            for (let jndex = 0; jndex < idx; jndex++) {\n\n                if ( randNum == this._blueAnimal[jndex] ) {\n\n                    this._blueAnimal.splice( idx, 1 );\n\n                    idx--;\n\n                    break;\n\n                }\n\n            }\n\n        }\n        \n\n    },\n\n    // 去重随机 粉色动物\n    onDelRepeatRandPink: function (  ) {\n\n        var idx = 0;\n\n        for (; idx < 8; idx++) {\n\n            var randNum = Com.onRandomNum(11, 19);\n\n            this._redAnimal.push(randNum); \n\n            for (let jndex = 0; jndex < idx; jndex++) {\n\n                if ( randNum == this._redAnimal[jndex] ) {\n\n                    this._redAnimal.splice( idx, 1 );\n\n                    idx--;\n\n                    break;\n\n                }\n\n            }\n\n        }\n\n    },\n\n    // 点击棋子回调；一次只能点击一个自己的棋子；如果点击自己的第二枚棋子，则取消前一个选中的棋子；\n    // 如果点击自己的棋子后，在点击对方的棋子则进行对比大小，然后进行消除的逻辑\n    // 如果点击的是初始的方块，则是翻棋子，然后轮到对方操作\n\n    // 首先判断当前是否为蓝方操作，如果是，在没有选中蓝方的情况下，是不可以点击粉色动物的；在选中蓝方情况下，\n    // 点击任意一种颜色动物，都要进行判断（是否相邻，如果相邻，可以进行比较吃或被吃，如果不相邻，取消被选中状态）\n\n\n    //切换动物操作时候有问题\n    /**\n     *  有哪些操作需要切换用户操作\n     *  1.默认是蓝色方操作（不管是蓝方操作还是粉方操作），在点击翻开棋子动作后切换用户\n     *  2.点击棋子移动（或者吃掉另一方的棋子），切换用户\n     */\n    onTouchCallback: function ( row, col, objCode, isSelected ) {\n\n        // console.log( \"onTouchCall&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\", this._isCanOptional );\n\n        if ( !this.onIsSelfdoit() ) {\n\n            this.onAddTip( \"等待其他玩家操作完成\" );\n\n            return;\n\n        }\n\n        // 当前蓝色方是否被选中 选中（可以随便点任何一个地方，如果点击的地方不与它相邻，则恢复到正常状态，如果点击的\n        // 的是扣着的对象，则直接翻开，显示小动物并且恢复到正常状态）\n\n        // 首先操作对象要一致 然后判断当前是否被选中 在判断：如果选中了同颜色的 && this._selfUID == objCode\n        if ( this._doItUID == objCode && isSelected) {\n\n            if ( this._selectedObj.count == 0 ) {\n\n                this._selectedObj.count = 1;\n\n                this._selectedObj.row = row;\n\n                this._selectedObj.col = col;\n\n                this.tableNodes[row][col].animal.getComponent(\"Animal\").onRunBig();\n\n                this.onCheckRoundMove( row, col, this.tableNodes[row][col].animal.getComponent(\"Animal\") );\n\n                console.log( \"this._selectedObj.count == 0\" );\n\n            } else if ( this._selectedObj.count >= 1 ) {\n\n                console.log( \"this._selectedObj.count >= 1\" );\n\n                this.tableNodes[this._selectedObj.row][this._selectedObj.col].animal.getComponent(\"Animal\").onRunSmall();\n\n                this.onHideTipDir();\n\n                this._selectedObj.count = 0;\n\n                this._selectedObj.row = -1;\n\n                this._selectedObj.col = -1;\n\n            }\n\n        } else if ( this.onIsSelfdoit() && !isSelected ) {\n\n            this._selectedObj.count = 0;\n\n            this._selectedObj.row = -1;\n\n            this._selectedObj.col = -1;\n\n            this.onHideTipDir();\n\n        } else {\n            //如果没有被选中的棋子，就点击了其它颜色的棋子 提示玩家不允许操作其它玩家的棋子\n            if ( !this.onCheckOptionalValid() ) {\n\n                this.onAddTip( \"不可以操作其他玩家棋子\" );\n\n                return;\n\n            }\n\n            // 消除操作 计算 根据\n            /**\n             *  已经记录了被选中的点\n             *  1.计算传过来的点是否与被选中的点是否相邻\n             *  2.具体算法：(row - 1 >= 0 && row - 1 == selected[0])\n             */\n\n             console.log( \" else 913 \" );\n\n            if ( this.onClearAlgorithm( row, col ) && this._doItUID != objCode ) {\n\n                // 可以进行消除逻辑 让当前被选中的小动物，进行移动到将被消除的小动物位置\n\n                var index0 = this._selectedObj.row;\n\n                var index1 = this._selectedObj.col;\n\n                var targetPos = { x:this.allPos[row][col].x,\n                                  y:this.allPos[row][col].y };\n\n                this.tableNodes[index0][index1].animal.getComponent(\"Animal\").node.setLocalZOrder(99);\n\n\n                if ( !config.isNetwork ){\n\n                    var winAnimalIdx = onCheckCompare( row, col );\n\n                    console.log( \"winAnimalIdx ==1118== \", winAnimalIdx);\n\n                    var moveData    = { targetPos:targetPos, selectedRow:index0, selectedCol:index1, row:row, col:col, winAnimalIdx:winAnimalIdx };\n\n                    // 移动 回调删除被吃掉的棋子（被吃掉的棋子进行删除）\n                    this.tableNodes[index0][index1].animal.getComponent(\"Animal\").onMoveToTarget( moveData, this.onMoveCallbackDel.bind(this) );\n\n                } else {\n\n                   // 移动 回调删除被吃掉的棋子（被吃掉的棋子进行删除）\n                    var data = { r:index0, c:index1, moveR:row, moveC:col };\n\n                    this.onSendGameData(  \"c_douShouQi_move\", data );\n\n                }\n\n\n\n            } else {\n\n                var index0 = this._selectedObj.row;\n\n                var index1 = this._selectedObj.col;\n\n                this.tableNodes[index0][index1].animal.getComponent(\"Animal\").onRunSmall();\n\n                this.onHideTipDir();\n\n                // 不可以进行消除 原地不动\n                this._selectedObj.row = -1;\n\n                this._selectedObj.col = -1;\n\n            }\n\n\n        }\n\n    },\n\n    // 点击默认占位的对象后回调\n    onBombTouchCallback: function ( row, col, componentStr ) {\n\n        console.log( \"onBombTouchCall\", this.onIsSelfdoit() );\n\n        if ( !this.onIsSelfdoit() ) {\n\n            this.onAddTip( \"等待对方操作完成\" );\n            \n            return;\n\n        } else {\n\n            // 请求服务器 拿到当前位置的动物\n\n            if ( !config.isNetwork ){\n\n                // 客户端实现本地随机动物逻辑\n                var animalIdx = this.onRandAnimal();\n\n                this._doItUID   = doItID;\n\n                var myCode = -1;\n\n                if ( animalIdx < 10 ) {\n\n                    myCode = this._selfUID;\n\n                } else {\n\n                    myCode = this._otherUID;\n\n                }\n\n                this.tableNodes[row][col].animal.getComponent(\"Animal\").playAnimation( this.onAnimaltionBreakCallback.bind(this), animalIdx, myCode );\n\n            } else {\n\n                var data = { r:row, c:col };\n\n                this.onSendGameData( \"c_douShouQi_animal\", data );\n\n            }\n\n\n\n        }\n\n    },\n\n    onAnimaltionBreakCallback: function ( row, col ) {\n\n        this.tableNodes[row][col].animal.active = true;\n\n        this.tableNodes[row][col].animal.opacity = 255;\n\n        this.onCheckOptionSelf();\n\n    },\n\n    // 点击空白方块的回调\n    onEmptyTouchCallback: function ( row, col ) {\n\n        console.log( \"onEmptyTouchCallback\", row, col );\n        // 把被选中的动物移动到当前位置\n        if ( this.onClearAlgorithm( row, col ) ) {\n\n            var index0 = this._selectedObj.row;\n\n            var index1 = this._selectedObj.col;   \n\n            // console.log( \" 1172 index0  index1 \", index0, index1 );\n\n            var data = { r:index0, c:index1, moveR:row, moveC:col };\n\n            this.onSendGameData(  \"c_douShouQi_move\", data );\n\n        } else {\n\n            // 不能移动\n\n        }\n\n\n    },\n\n    // 移动后并且删除被吃掉的棋子\n    onMoveCallbackDel: function ( moveData ) {\n\n        // 设置操作棋子的row col\n        var selected0 = moveData.selectedRow;\n\n        var selected1 = moveData.selectedCol;\n\n        var row       = moveData.row;\n\n        var col       = moveData.col;\n\n        var moveState = moveData.winAnimalIdx;\n\n        console.log( \"moveState == \", moveState );\n\n        if ( moveState == -1 ) {\n\n            // 两个棋子都删除\n\n            // console.log( \" 1209 idDie  \",  this.tableNodes[row][col].isDie);\n\n            if ( this.tableNodes[row][col].isDie ) {\n\n                Com.onPlayGameEffect( 1 );\n\n                this.onMoveCallback( moveData );\n\n                return;\n            }\n\n            Com.onPlayGameEffect( 5 );\n\n            this.onPlayDestoryAni( row, col );\n    \n            // 删除被吃掉的棋子\n            this.tableNodes[row][col].animal.getComponent(\"Animal\").onDestory();\n\n            this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onDestory();\n\n            this.tableNodes[row][col].isDie = true;\n\n            this.tableNodes[selected0][selected1].isDie = true;\n\n        } else {\n\n            // selected被吃掉\n\n            if ( this.tableNodes[row][col].isDie ) {\n\n                Com.onPlayGameEffect( 1 );\n\n                this.onMoveCallback( moveData );\n\n                return;\n            }\n\n            console.log( \" row col \", this.tableNodes[row][col].animal.getComponent(\"Animal\").onGetAnimalIndex() );\n\n            console.log( \" selected0 selected1 \", this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onGetAnimalIndex() );\n\n            if ( this.tableNodes[row][col].animal.getComponent(\"Animal\").onGetAnimalIndex() == moveState ){\n\n                Com.onPlayGameEffect( 3 );\n\n                this.tableNodes[selected0][selected1].isDie = true;\n\n                this.tableNodes[row][col].isDie = false;\n        \n                this.onPlayDestoryAni( row, col );\n                // 删除被吃掉的棋子\n                this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onDestory();\n\n            } else if ( this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onGetAnimalIndex() == moveState ) {\n\n                // 目标被吃掉\n                Com.onPlayGameEffect( 4 );\n\n                this.tableNodes[row][col].isDie = true;\n\n                this.tableNodes[selected0][selected1].isDie = false;\n\n                this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").node.setLocalZOrder(1);\n        \n                this.onPlayDestoryAni( row, col );\n                // 删除被吃掉的棋子\n                this.tableNodes[row][col].animal.getComponent(\"Animal\").onDestory();\n        \n                this.tableNodes[row][col].animal = this.tableNodes[selected0][selected1].animal;\n\n                this.tableNodes[row][col].isDie = this.tableNodes[selected0][selected1].isDie;\n\n                this.tableNodes[selected0][selected1].isDie = true;\n\n                this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onSetRowAndCol( row, col );\n\n            }\n\n        }\n\n    },\n\n    //  移动结果回调\n    onMoveCallback: function ( moveData ) {\n\n        // 切换操作用户\n        console.log( \"移动完成\" );\n        // 移动后属性互换\n        var selected0 = moveData.selectedRow;\n\n        var selected1 = moveData.selectedCol;\n\n        var row       = moveData.row;\n\n        var col       = moveData.col;\n\n        var targetDie = this.tableNodes[row][col].isDie;\n\n\n        if ( this.tableNodes[selected0][selected1].isDie ){\n\n            console.log( \" error 1374+++++ isDie true \" );\n\n            return;\n\n        }\n\n        this.tableNodes[row][col].animal = this.tableNodes[selected0][selected1].animal;\n\n        this.tableNodes[row][col].isDie = this.tableNodes[selected0][selected1].isDie;\n\n        this.tableNodes[selected0][selected1].isDie = targetDie;\n\n        this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onSetRowAndCol( row, col );\n\n    },\n\n    // 切换用户\n    onCheckOptionSelf: function (  ) {\n\n        this.closeUpdate();\n\n        this.onSetOptionalTime();\n\n        // 要清理 自己的棋子的状态\n        this.onResetStatus();\n\n        this._selectedObj.row = -1;\n\n        this._selectedObj.col = -1;\n\n        this._selectedObj.count = 0;\n\n        if ( this.onIsSelfdoit() ) {\n\n            this.onRedBoardAni( true );\n\n            this.onBlueBoardAni( false );\n\n        } else if ( !this.onIsSelfdoit() ) {\n\n            this.onBlueBoardAni( true );\n\n            this.onRedBoardAni( false );\n\n        }\n\n        this.onHideTipDir();\n\n        this.onShowValidOptionalObj();\n\n    },\n\n    onIsSelfdoit: function (  ) {\n\n        if ( this._selfUID == this._doItUID ){\n\n            return true;\n\n        } else if ( this._selfUID != this._doItUID ) {\n\n            return false;\n\n        }\n\n    },\n\n    //计算点击后是否可以进行移动\n    onClearAlgorithm: function ( row, col ) {\n\n        var selected0 = this._selectedObj.row;\n\n        var selected1 = this._selectedObj.col;\n\n        var isClear = false;\n\n        if ( row - 1 == selected0 && col == selected1 ) {\n\n            // 消除\n            isClear = true;\n            // console.log( \" row  - 1 \" );\n\n        } else if ( row + 1 == selected0 && col == selected1 ) {\n\n            // 消除\n            isClear = true;\n            // console.log( \" row  + 1 \" );\n\n        } else if ( row == selected0 && col - 1 == selected1 ) {\n\n            // 消除\n            isClear = true;\n            // console.log( \" col  - 1 \" );\n            \n        } else if ( row == selected0 && col + 1 == selected1 ) {\n\n            // 消除\n            isClear = true;\n            // console.log( \" col + 1 \" );\n\n        } else if ( selected0 == -1 && selected1 == -1 ) {\n\n            // 不可以消除 直接\n            isClear = false;\n            // console.log( \" selected0 -1 selected1 -1\" );\n\n        } else {\n\n            // 不可以消除 直接\n            isClear = false;  \n            // console.log( \" else \" );  \n\n        }\n\n        console.log( \"isClear ===== \", isClear );\n\n        return isClear;\n\n    },\n\n    // 点击后是否能吃掉对方  消除\n    /**\n     *  比较大小\n     *  1.如果移动的棋子比固定的棋子大，则吃掉对方；否则被吃掉；\n     *  2.如果相等，则两个棋子都消失\n     */\n    onCheckCompare: function ( row, col ) {\n\n        // this._compareState\n        var selected0 = this._selectedObj.row;\n\n        var selected1 = this._selectedObj.col;\n\n        var targetObj = this.tableNodes[row][col].animal.componentStr;\n\n        var selectedIndex = this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onGetAnimalIndex(  );\n\n        var targetIndex   = this.tableNodes[row][col].animal.getComponent(\"Animal\").onGetAnimalIndex(  );\n\n        // 首先是特殊情况 老鼠可以吃大象 所以\n        /**\n         *  所有这个两个对象 如果index一个是8 并且一个是1  要特殊处理\n         *  要把大象吃掉\n         * \n         *  相同颜色的动物不可以互相吃掉\n         */\n\n        // console.log( \"selectedIndex targetIndex\", selectedIndex, targetIndex );\n\n        var compareState = -1;\n\n        var winAnimalIdx = -1;\n\n        if ( (selectedIndex == 8 && targetIndex == 1 ) ) {\n\n            // 假设被选中的是大象，目标是老鼠 这时候，大象被吃\n            compareState = this._compareState.lt;\n\n            winAnimalIdx = targetIndex;\n\n        } else if ( (selectedIndex == 1 && targetIndex == 8 ) ) {\n\n            // 假设被选中的是老鼠，目标是大象 这时候，大象被吃\n            compareState = this._compareState.gt;\n            winAnimalIdx = selectedIndex;\n\n        } else if ( selectedIndex == targetIndex ) {\n\n            compareState = this._compareState.eq;\n\n            winAnimalIdx = -1;\n\n        } else if ( selectedIndex > targetIndex ) {\n\n            compareState = this._compareState.gt;\n\n            winAnimalIdx = selectedIndex;\n\n        } else if ( selectedIndex < targetIndex ) {\n\n            compareState = this._compareState.lt;\n\n            winAnimalIdx = targetIndex;\n\n        }\n\n        return winAnimalIdx;\n\n    },\n\n    // 判断两个动物是否相同\n    onCheckAnimalSame: function ( row, col ) {\n\n        var isSame = false;\n\n        var selected0 = this._selectedObj.row;\n\n        var selected1 = this._selectedObj.col;\n\n        var targetComStr = this.tableNodes[row][col].animal.componentStr;\n\n        var selectedStr = this.tableNodes[selected0][selected1].animal.componentStr;\n\n        // console.log( \" onCheckAnimalSame \", row, col, targetComStr, selectedStr );\n\n        if ( targetComStr == selectedStr ) {\n\n            this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onRunSmall();\n\n            this.tableNodes[row][col].animal.getComponent(\"Animal\").onRunSmall();\n\n            this.onHideTipDir();\n\n            isSame = true;\n\n        }\n\n        return isSame;\n\n    },\n\n    // 检测操作是否合法\n    onCheckOptionalValid: function (  ) {\n\n        var selected0 = this._selectedObj.row;\n\n        var selected1 = this._selectedObj.col;\n\n        if ( selected0 == -1 && selected1 == -1 ) {\n\n            return false;\n\n        }\n\n        return true;\n\n    },\n\n    // 显示有效的操作对象\n    onShowValidOptionalObj: function (  ) {\n\n        var tempNode = null;\n\n        var comStr = '';\n\n        // 如果点击翻棋后，要把所有的被选中的棋子恢复成原来状态\n        for (let index = 0; index < this.tableNodes.length; index++) {\n\n            for (let jndex = 0; jndex < this.tableNodes[index].length; jndex++) {\n\n                if ( !this.tableNodes[index][jndex].isDie ) {\n\n                    tempNode = this.tableNodes[index][jndex].animal;\n\n                    // comStr   = tempNode.componentStr;\n                    comStr   = \"Animal\";\n\n                    var currCode = tempNode.getComponent(comStr).onGetAnimalCode();\n\n                    // 如果当前为自己操作 显示可以操作的动物\n                    if ( this.onIsSelfdoit() ) {\n\n                        // 判断当前动物是否被翻出来\n                        if ( tempNode.getComponent(comStr).getAnimalIsBreak() ){\n\n                            // 判断当前动物是否为自己的动物\n                            if ( this._selfUID == currCode ) {\n\n                                tempNode.getComponent(comStr).onShowSelfTip();\n\n                            } else {\n\n                                tempNode.getComponent(comStr).onHideTip();\n\n                            }\n\n                        } else {\n\n                            tempNode.getComponent(comStr).onOptionalObj();\n\n                        }\n\n                    } else {\n\n                        tempNode.getComponent(comStr).onHideTip();\n\n                    }\n\n                }\n\n            }\n        }\n\n    },\n\n    // 重置棋子的状态\n    onResetStatus: function (  ) {\n\n        var tempNode = null;\n\n        var comStr = '';\n\n        // 如果点击翻棋后，要把所有的被选中的棋子恢复成原来状态\n        for (let index = 0; index < this.tableNodes.length; index++) {\n\n            for (let jndex = 0; jndex < this.tableNodes[index].length; jndex++) {\n\n                if ( !this.tableNodes[index][jndex].isDie ) {\n\n                    tempNode = this.tableNodes[index][jndex].animal;\n\n                    // comStr   = tempNode.componentStr;\n                    comStr   = \"Animal\";\n\n                    if ( this._selfUID == tempNode.getComponent(comStr).onGetAnimalCode() ){\n\n                        if ( tempNode.getComponent(comStr).getAnimalIsBig() ) {\n\n                            tempNode.getComponent(comStr).onRunSmall();\n\n                        } else {\n\n\n                        }\n                    }\n\n                }\n\n            }\n        }\n\n    },\n\n    onClearTabel: function (  ) {\n\n        var tempNode = null;\n\n        var comStr = '';\n\n        // 清除所有动物 需要重新初始化\n        for (let index = 0; index < this.tableNodes.length; index++) {\n\n            for (let jndex = 0; jndex < this.tableNodes[index].length; jndex++) {\n\n                if ( !this.tableNodes[index][jndex].isDie ) {\n\n                    tempNode = this.tableNodes[index][jndex].animal;\n\n                    // comStr   = tempNode.componentStr;\n                    comStr   = \"Animal\";\n\n                    tempNode.getComponent(comStr).onDestory();\n\n                }\n\n            }\n        }\n\n\n    },\n\n    onRestart: function (  ) {\n\n        this.onClearTabel();\n\n        this.init();\n\n        this.initUI();\n\n        this.openUpdate();\n\n        this.onOptionalTimeAni();\n\n    },\n\n// ******** 操作倒计时 ************\n\n    // 打开倒计时函数\n    openUpdate: function () {\n\n        var interval    = 1;                    //以秒为单位的时间间隔\n\n        var repeat      = this.defalutTiem;     //重复次数\n\n        var delay       = 0;                    //开始延时\n        \n        this.schedule( this.onTimeDownCallback,  interval, repeat, delay);\n\n    },\n\n    // 关闭倒计时函数\n    closeUpdate: function () {\n\n        console.log( \" closeUpdate ********************** \" );\n\n        this.unschedule(this.onTimeDownCallback);\n\n        this.count = 30;\n\n        this._isCanOptional = false;\n\n    },\n\n    // 倒计时回调\n    onTimeDownCallback: function (  ) {\n\n        this.count -= 1;\n\n        if ( this.count < 0 ){\n\n            this.closeUpdate();\n\n            // this.onSendGameData(\"c_douShouQi_renShu\", {});\n\n            // 给服务器发送切换用户的操作\n\n        } else {\n\n            // 设置文本信息\n            this.onSetOptionalTime();\n\n        }\n\n        \n\n    },\n\n    onCanOptionalObj: function (  ) {\n\n        return this._isCanOptional;\n\n    },\n\n// ******** 操作倒计时 ************\n    \n\n// ******** 对象可以移动的方向指示 ********\n\n    // 检测上下左右是否可以移动\n    /**\n     * \n     * 移动规则为：如果四周有空位置，提示➡箭头出现\n     * 1.如果旁边还有箱子，不提箭头\n     * 2.如果旁边右自己的动物，不提示箱子\n     * \n     */\n    onCheckRoundMove: function ( row, col, obj ) {\n\n        var moveDir = { up:false, down:false, left:false, right:false };\n\n        if ( row - 1 >= 0) {\n    \n            // 找出(row-1, col) 这个位置的对像\n            // 上移动\n            var isShowDir = this.onFindAnimalOfIndex( (row-1), col );\n\n            if ( isShowDir ) {\n\n                moveDir.up = true;\n\n            }\n            \n        }\n        \n        if ( row + 1 <= 3) {\n    \n            // 下移动\n            var isShowDir = this.onFindAnimalOfIndex( (row+1), col );\n\n            if ( isShowDir ) {\n\n                moveDir.down = true;\n\n            }\n    \n        } \n    \n        if ( col - 1 >= 0 ) {\n    \n            // 左移动\n            var isShowDir = this.onFindAnimalOfIndex( row, (col-1) );\n\n            if ( isShowDir ) {\n\n                moveDir.left = true;\n\n            }\n            \n        } \n        \n        if ( col + 1 <= 3 ) {\n    \n            // 右移动\n            var isShowDir = this.onFindAnimalOfIndex( row, (col+1) );\n\n            if ( isShowDir ) {\n\n                moveDir.right = true;\n\n            }\n    \n        }\n\n        if ( (row < 0 || col < 0) || ( row > 3 || col > 3 ) ) {\n    \n            moveDir = { up:false, down:false, left:false, right:false };\n    \n        }\n\n        this.node_dir.x = this.tableNodes[row][col].animal.x;\n\n        this.node_dir.y = this.tableNodes[row][col].animal.y + 10;\n\n        // if ( moveDir.up || moveDir.down || moveDir.left || moveDir.right ){\n\n        //     this.node_dir.node.active = true;\n\n        //     this.node_dir.node.opacity = 255;\n\n        // }\n\n        this.onTipMoveDirection( moveDir );\n\n    },\n\n    onFindAnimalOfIndex: function ( row, col ) {\n\n        var tempNode = null;\n\n        var comStr = '';\n\n        var isShowDir = false;\n\n        if ( !this.tableNodes[row][col].isDie ) {\n\n            tempNode = this.tableNodes[row][col].animal;\n\n            // comStr = tempNode.componentStr;\n            comStr   = \"Animal\";\n\n            // 当前箱子没有坏掉\n            if ( !tempNode.getComponent(comStr).getAnimalIsBreak() ) {\n\n                // 此种情况 不显示这个方向的 方向标\n                isShowDir = false;\n\n            } else {\n\n                // isShowDir = true;\n                if ( this.onIsSelfdoit() && this._selfUID == tempNode.getComponent(comStr).onGetAnimalCode() ) {\n\n                    isShowDir = false;\n    \n                } else {\n\n                    isShowDir = true;\n\n                }\n\n            }\n\n        } else {\n\n            isShowDir = true;\n\n        }\n\n        return isShowDir;\n\n    },\n\n        //  选中后提示玩家可以移动的方向 ()\n    /**\n     * 根据当前位置（x y）计算 上下左右 四个方向是否可以移动\n     * 如果某个方向可以移动，则展示提示动画\n     */\n    onTipMoveDirection: function ( moveDir ) {\n\n        if ( moveDir.up ) {\n\n            // 播放上动画\n            this.onRepeatAction( this.sp_up, \"up\" );\n\n        }\n\n        if ( moveDir.down ) {\n\n            // 播放下动画\n            this.onRepeatAction( this.sp_down, \"down\" );\n\n        }\n\n        if ( moveDir.left ) {\n\n            // 播放左动画\n            this.onRepeatAction( this.sp_left, \"left\" );\n\n        }\n\n        if ( moveDir.right ) {\n\n            // 播放右动画\n            this.onRepeatAction( this.sp_right, \"right\" );\n\n        }\n\n    },\n\n        /**\n     * @nodeObj: 哪个对象执行\n     * @dirStr: 方向\n     */\n    onRepeatAction: function ( nodeObj, dirStr ) {\n\n        nodeObj.node.active = true;\n\n        nodeObj.node.opacity = 255;\n\n        var animState = nodeObj.play(dirStr);\n\n        // 设置循环模式为 Loop\n        animState.wrapMode = cc.WrapMode.Loop;\n\n        // 设置动画循环次数为无限次\n        animState.repeatCount = Infinity;\n\n    },\n\n    onStopRepeatAction: function ( nodeObj, dirStr ) {\n\n        nodeObj.node.active = false;\n\n        nodeObj.node.opacity = 0;\n\n        nodeObj.stop(dirStr);\n\n    },\n\n    // 隐藏四个方向小标\n    onHideTipDir: function (  ) {\n\n        // 停止播放上动画\n        this.onStopRepeatAction( this.sp_up, \"up\" );\n\n        // 停止播放下动画\n        this.onStopRepeatAction( this.sp_down, \"down\" );\n\n        // 停止播放左动画\n        this.onStopRepeatAction( this.sp_left, \"left\" );\n\n        // 停止播放右动画\n        this.onStopRepeatAction( this.sp_right, \"right\" );\n\n    },\n\n// ****************** 对象可以移动的方向指示 ******************\n\n// ******************     被消灭的动画     ******************\n\n    onPlayDestoryAni: function ( row, col ) {\n\n        this.sp_destory.node.x = this.allPos[row][col].x;\n\n        this.sp_destory.node.y = this.allPos[row][col].y;\n\n        this.onDestoryAnimation();\n        \n    },\n\n    onDestoryAnimation: function () {\n\n        this.sp_destory.node.active = true;\n\n        this.sp_destory.node.opacity = 255;\n\n        var animState = this.sp_destory.play(\"destory\");\n\n        var self = this;\n\n        function onFinished (  ) {\n\n            console.log( \"onFinished\" );\n\n            self.sp_destory.node.active = false;\n\n            self.sp_destory.node.opacity = 0;\n\n        };\n\n        animState.on('finished',  onFinished,  this.sp_destory);\n\n    },\n\n// ******************  被消灭的动画   ******************\n\n// ****************** 操作时间过度动画 ******************\n\n    /**\n     * 随机出操作方\n     * 根据随机出来的对象，显示操作时间\n     * 显示要求：（假设，随机出来的是红方先操作）\n     * 1.红方时间面板从0放大到1的过程；30s后面板从1到0缩小，然后显示白板0.5s，0.5s后白板隐藏，\n     * 蓝色面板从0放大到1的过程；然后重复循环此过程\n     */\n    onOptionalTimeAni: function (  ) {\n\n        if ( this.onIsSelfdoit() ) {\n\n            this.onRedBoardAni( true );\n\n        } else {\n\n            this.onBlueBoardAni( true );\n\n        }\n\n    },\n\n    /**\n     * optionalObj: 操作方\n     */\n    onRedBoardAni: function ( optionalObj ) {\n\n        if ( optionalObj ) {\n\n            // 红面板从0放大到1的过程；\n\n            var scale = cc.scaleTo( 0.2, 1, 1 );\n\n            var delay = cc.delayTime( 0.2 );\n\n            var self = this;\n\n            function onFinishCallback (  ){\n\n                self.sp_white.node.scale = 0;\n\n                var scale2 = cc.scaleTo( 0.2, 1, 1 );\n    \n                self.sp_red_time.node.runAction( scale2 );\n\n                self._isCanOptional = true;\n\n                self.openUpdate();\n\n            };\n\n            var seq = cc.sequence(  scale,\n                                    delay,\n                                    cc.callFunc( onFinishCallback, this, this.sp_white ) );\n\n            this.sp_white.node.runAction( seq );\n\n        } else {\n\n            // 红面板从1缩小到0的过程；\n            var scale = cc.scaleTo( 0.2, 1, 0 );\n\n            var self = this;\n\n            function onFinishCallback (  ){\n\n\n            };\n\n            var seq = cc.sequence( scale, \n            cc.callFunc( onFinishCallback, this, this.sp_red_time ) );\n\n            this.sp_red_time.node.runAction( seq );\n\n        }\n\n    },\n\n    /**\n     * optionalObj: 操作方\n     */\n    onBlueBoardAni: function ( optionalObj ) {\n\n        if ( optionalObj ) {\n\n            // 红面板从0放大到1的过程\n\n            var scale = cc.scaleTo( 0.2, 1, 1 );\n\n            var delay = cc.delayTime( 0.2 );\n\n            var self = this;\n\n            function onFinishCallback (  ){\n\n                self.sp_white.node.scale = 0;\n\n                var scale1 = cc.scaleTo( 0.2, 1, 1 );\n\n                self.sp_blue_time.node.runAction( scale1 );\n\n                self._isCanOptional = true;\n\n                self.openUpdate();\n\n            };\n\n            var seq = cc.sequence(  scale,\n                                    delay,\n                                    cc.callFunc( onFinishCallback, this, this.sp_white ) );\n\n            this.sp_white.node.runAction( seq );\n\n        } else {\n\n            // 红面板从1缩小到0的过程；\n            var scale = cc.scaleTo( 0.2, 1, 0 );\n\n            var self = this;\n\n            function onFinishCallback (  ){\n\n\n            };\n\n            var seq = cc.sequence( scale, \n                                    cc.callFunc( onFinishCallback, this, this.sp_blue_time ) );\n\n            this.sp_blue_time.node.runAction( seq );\n\n        }\n\n    },\n\n        /**\n     * optionalObj: 操作方\n     */\n    onWhiteBoardAni: function ( optionalObj ) {\n\n        var scale = cc.scaleTo( 0.5, 1, 1 );\n\n        var self = this;\n\n        function onFinishCallback (  ) {\n\n            self.sp_white.node.active = false;\n\n            self.sp_white.node.opacity = 0;\n\n            self.sp_white.node.scaleY = 0;\n\n            console.log( \" onFinishCallback onWhiteBoardAni \", optionalObj );\n\n            if ( optionalObj == \"red\" ) {\n\n                self.onBlueBoardAni( true );\n\n            } else {\n\n                self.onRedBoardAni( true );\n\n            }\n\n        }\n\n        var seq = cc.sequence( scale, \n        cc.callFunc(onFinishCallback, this, this.sp_white) );\n\n        this.sp_white.node.runAction( seq );\n\n\n    },\n\n    // 设置玩家操作时间\n    onSetOptionalTime: function (  ) {\n\n        if ( this._doItUID != this._selfUID ) {\n\n            this.label_blue_time.string = this.count.toString() + \"s\";\n\n        } else {\n\n            this.label_red_time.string = this.count.toString() + \"s\";\n\n        }\n\n    },\n\n// ****************** 操作时间过度动画 ******************\n\n// ******************     提示框     ******************\n/**\n * tipStr: 提示文字\n */\n    onAddTip: function ( tipStr ) {\n\n        this.label_tip.string = tipStr;\n\n        if ( this._isShowTip ) {\n\n            return;\n\n        } else {\n\n            this.onShowtip();\n\n        }\n\n    },\n\n    onShowtip: function (  ) {\n\n        var self = this;\n\n        this._isShowTip = true;\n\n        this.sp_tip.node.active = true;\n\n        this.sp_tip.node.opacity = 255;\n\n        // 缩小放大动画\n        var scale = cc.scaleTo(0.2, 1);\n\n        function onActionFinishCall (  ){\n\n            // this.sp_tip.node.scale = 0;\n            self.onHidetip();\n\n        };\n\n        var delay = cc.delayTime(0.8);\n\n        var seq = cc.sequence( scale, delay, \n                                cc.callFunc(onActionFinishCall, this, this.sp_tip) );\n\n        this.sp_tip.node.runAction( seq );\n\n    },\n\n    onHidetip: function (  ) {\n\n        // 缩小放大动画\n        var scale = cc.scaleTo(0.1, 0);\n\n        function onActionFinishCall (  ){\n\n            this.sp_tip.node.scale = 0;\n\n            this._isShowTip = false;\n\n        };\n\n        var seq = cc.sequence( scale, cc.callFunc(onActionFinishCall, this, this.sp_tip));\n\n        this.sp_tip.node.runAction( seq );\n\n    },\n\n    // 弹出 确认取消框\n    onAddAlert: function ( descStr, labelRedBtn = \"拒绝\", labelBlueBtn = \"同意\" ) {\n\n        this.label_alert.string = descStr;\n\n        this.label_red_btn.string = labelRedBtn;\n\n        this.label_blue_btn.string = labelBlueBtn;\n\n        if ( this._isShowAlert ) {\n\n            return;\n\n        } else {\n\n            this.onShowAlert();\n\n        }\n\n    },\n\n    onShowAlert: function (  ) {\n\n        var self = this;\n\n        this._isShowAlert = true;\n\n        // this.sp_alert.opacity = 255;\n\n        // 缩小放大动画\n        var scale = cc.scaleTo(0.2, 1);\n\n        function onActionFinishCall (  ){\n\n            console.log( \" onActionFinishCall \" );\n\n        };\n\n        var delay = cc.delayTime(0.8);\n\n        var seq = cc.sequence( scale, delay, \n                                cc.callFunc(onActionFinishCall, this, this.sp_alert) );\n\n        this.sp_alert.node.runAction( seq );\n\n    },\n\n    onHideAlert: function (  ) {\n\n        // 缩小放大动画\n        var scale = cc.scaleTo(0.1, 0);\n\n        var $this = this;\n\n        function onActionFinishCall (  ){\n\n            $this.sp_alert.node.scale = 0;\n\n            $this._isShowAlert = false;\n\n            $this._alertStr = \"\";\n\n        };\n\n        var seq = cc.sequence( scale, cc.callFunc(onActionFinishCall, this, this.sp_alert));\n\n        this.sp_alert.node.runAction( seq );\n\n    },\n\n\n// ******************    提示框    ******************\n\n// ******************    结算页面    ******************\n\n    onAddResultLayer: function ( youWin ) {\n\n        var self = this;\n\n        var resutlLayer = cc.instantiate( this.result_prefab );\n\n        resutlLayer.addComponent('GameResult');\n\n        resutlLayer.setLocalZOrder(100);\n\n        resutlLayer.parent = this.nodeResult;\n\n        resutlLayer.x = 320;\n\n        resutlLayer.y = 568;\n\n        function onCallback (  ) {\n\n            console.log( \" onCallback \" );\n\n            // self.onRestart();\n\n        };\n\n        resutlLayer.getComponent('GameResult').onInitUI();\n\n        resutlLayer.getComponent('GameResult').onSetGameResultInfo( youWin, onCallback );\n\n    },\n\n// ******************    结算页面   ******************\n\n});\n"]}