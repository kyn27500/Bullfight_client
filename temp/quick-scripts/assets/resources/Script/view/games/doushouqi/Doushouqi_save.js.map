{"version":3,"sources":["Doushouqi_save.js"],"names":["Com","require","onfire","requestHandler","config","cc","Class","extends","Component","properties","sp_head_red","default","type","Sprite","sp_head_blue","node_table","Node","sp_tip","label_tip","Label","sp_alert","label_alert","label_red_btn","label_blue_btn","node_dir","sp_up","Animation","sp_down","sp_left","sp_right","sp_destory","sp_white","sp_red_time","sp_blue_time","label_red_time","label_blue_time","nodeResult","btn_help","Button","node_help","myName","otherName","animal_blue_Prefab","Prefab","animal_red_Prefab","animal_Prefab","empty_prefab","result_prefab","defalutTiem","count","onLoad","onLoadAudio","deleteItem","isNetwork","gameData","_doItUID","_selfUID","_otherUID","init","initUI","onOptionalTimeAni","listenerList","onReceive_login","onReceive_start","onReceive_move","onReceive_talk","onReceive_animal","onReceive_overGame","onReceive_qiuHeOther","onReceive_qiuHeAgreeOther","forEach","on","element","addButtonListener","onDestroy","un","start","data1","data2","console","log","allData","string","openUpdate","row","col","myCode","doItID","_isFirst","firstCode","baseData","firstUID","firstAnimal","setItem","getItem","animalCode","tableNodes","animal","getComponent","playAnimation","onAnimaltionBreakCallback","bind","onReceive_MyCode","data","_myCode","index0","index1","doItObj","targetPos","x","allPos","y","selectedPos","moveData","selectedRow","selectedCol","winAnimalIdx","node","setLocalZOrder","onMoveToTarget","onMoveCallbackDel","onCheckOptionSelf","onRecive_doIt","onResultCall","closeUpdate","onAddResultLayer","scheduleOnce","_alertStr","onAddAlert","onAddTip","onSendGameData","packgeName","sendRequest","active","scale","opacity","scaleY","onHideTipDir","_blueAnimal","_redAnimal","_rand01","_blueSelf","_pinkSelf","_isShowTip","_isShowAlert","_isCanOptional","_selectedPoint","_rand0Count","_rand1Count","_firstAnimalIndex","_helpNode","_selectedObj","_compareState","eq","gt","lt","same","width","winSize","height","Vec2","allBtnEmpty","pos","emptyNode","index","jndex","getChildByName","toString","position","onInitTable","$this","EventType","TOUCH_START","event","TOUCH_END","onTouchListener","customEventData","iDo","onHideAlert","onLoadHeadImg","onDelRepeatRandBlue","onDelRepeatRandPink","btnEmpty","_componentStr","_gameDataContent","length","instantiate","addComponent","parent","onSetRowAndCol","onSetTouchCallback","onEmptyTouchCallback","onCreateAnimal","animalStatus","isDie","_animal","onLoadAnimal","onBreakBombCallback","onBombTouchCallback","onTouchCallback","onRandAnimal","rand01","onRandomNum","idx","randNum","push","splice","objCode","isSelected","onIsSelfdoit","onRunBig","onCheckRoundMove","onRunSmall","onCheckOptionalValid","onClearAlgorithm","onCheckCompare","r","c","moveR","moveC","componentStr","animalIdx","selected0","selected1","moveState","onPlayGameEffect","onMoveCallback","onPlayDestoryAni","onDestory","onGetAnimalIndex","targetDie","onSetOptionalTime","onResetStatus","onRedBoardAni","onBlueBoardAni","onShowValidOptionalObj","isClear","targetObj","selectedIndex","targetIndex","compareState","onCheckAnimalSame","isSame","targetComStr","selectedStr","tempNode","comStr","currCode","onGetAnimalCode","getAnimalIsBreak","onShowSelfTip","onHideTip","onOptionalObj","getAnimalIsBig","onClearTabel","onRestart","interval","repeat","delay","schedule","onTimeDownCallback","unschedule","onCanOptionalObj","obj","moveDir","up","down","left","right","isShowDir","onFindAnimalOfIndex","onTipMoveDirection","onRepeatAction","nodeObj","dirStr","animState","play","wrapMode","WrapMode","Loop","repeatCount","Infinity","onStopRepeatAction","stop","onDestoryAnimation","self","onFinished","optionalObj","onFinishCallback","scale2","scaleTo","runAction","delayTime","seq","sequence","callFunc","scale1","onWhiteBoardAni","tipStr","onShowtip","onActionFinishCall","onHidetip","descStr","labelRedBtn","labelBlueBtn","onShowAlert","youWin","resutlLayer","onCallback","onInitUI","onSetGameResultInfo"],"mappings":"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","file":"Doushouqi_save.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\assets\\resources\\Script\\view\\games\\doushouqi","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\n/**\r\n * @brief: 斗兽棋主场景(单机-网络版调试)（如果没有网络的情况下，可以完单机的）\r\n * @time:  2018-05-8\r\n * @author: JiangTao kungfupandajt@163.com\r\n */\r\n\r\nvar Com             = require('Com');\r\nvar onfire          = require(\"onfire\");           //处理事件的类库\r\nvar requestHandler  = require(\"RequestHandler\");    \r\nvar config          = require(\"config\");                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n        sp_head_red: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n\r\n        sp_head_blue: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n\r\n        node_table: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n\r\n        sp_tip: {\r\n            default: null,\r\n            type: cc.Sprite,\r\n        },\r\n\r\n        label_tip: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n\r\n        sp_alert: {\r\n            default:null,\r\n            type:cc.Sprite,\r\n        },\r\n\r\n        label_alert: {\r\n            default:null,\r\n            type:cc.Label,\r\n        },\r\n\r\n        // 红色按钮文字\r\n        label_red_btn: {\r\n            default:null,\r\n            type:cc.Label,\r\n        },\r\n\r\n        // 蓝色按钮文字\r\n        label_blue_btn: {\r\n            default:null,\r\n            type:cc.Label,\r\n        },\r\n\r\n        node_dir: {\r\n            default: null,\r\n            type:cc.Node\r\n        },\r\n\r\n        sp_up: {\r\n            default: null,\r\n            type: cc.Animation\r\n        },\r\n\r\n        sp_down: {\r\n            default: null,\r\n            type: cc.Animation\r\n        },\r\n\r\n        sp_left: {\r\n            default: null,\r\n            type: cc.Animation\r\n        },\r\n\r\n        sp_right: {\r\n            default: null,\r\n            type: cc.Animation\r\n        },\r\n\r\n        sp_destory: {\r\n            default: null,\r\n            type: cc.Animation\r\n        },\r\n\r\n        // 白板\r\n        sp_white: {\r\n            default: null,\r\n            type: cc.Sprite\r\n        },\r\n\r\n        // 红色方时间面板\r\n        sp_red_time: {\r\n            default: null,\r\n            type: cc.Sprite\r\n        },\r\n\r\n        // 蓝色方时间面板\r\n        sp_blue_time: {\r\n            default: null,\r\n            type: cc.Sprite\r\n        },\r\n\r\n        // 红方时间\r\n        label_red_time: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n\r\n        // 蓝方时间\r\n        label_blue_time: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n\r\n        nodeResult: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n\r\n        btn_help: {\r\n            default: null,\r\n            type: cc.Button\r\n        },\r\n\r\n        node_help: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n\r\n        myName: cc.Label,\r\n\r\n        otherName: cc.Label,\r\n\r\n        animal_blue_Prefab: cc.Prefab,      // 蓝方预制资源\r\n\r\n        animal_red_Prefab: cc.Prefab,       // 红方预制资源\r\n\r\n        animal_Prefab: cc.Prefab,           // 默认动物预制资源\r\n\r\n        empty_prefab: cc.Prefab,            // 空的预制资源\r\n\r\n        result_prefab: cc.Prefab,           // 结果预知资源\r\n\r\n        defalutTiem:30,     //  默认操作时间\r\n\r\n        count: 30,          //  倒计时计次\r\n        \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\r\n        // 加载斗兽棋音效\r\n        Com.onLoadAudio();\r\n\r\n        Com.deleteItem();\r\n\r\n        // 单机模式\r\n        if(!config.isNetwork){\r\n\r\n            this.gameData = [\r\n\r\n                                [0, 0, 0, 0],\r\n                                [0, 0, 0, 0],\r\n                                [0, 0, 0, 0],\r\n                                [0, 0, 0, 0],\r\n\r\n                            ];\r\n\r\n            this._doItUID = 1234567;\r\n\r\n            this._selfUID = 1234567;\r\n\r\n            this._otherUID = 7654321;\r\n\r\n            this.init();\r\n\r\n            this.initUI();\r\n\r\n            this.onOptionalTimeAni();\r\n\r\n        } else {\r\n\r\n            // 网络监听列表\r\n            var listenerList = [\r\n                [\"gameData\", this.onReceive_login, this],\r\n                [\"s_douShouQi_start\", this.onReceive_start, this],\r\n                [\"s_douShouQi_move\", this.onReceive_move, this],\r\n                [\"s_douShouQi_talk\", this.onReceive_talk, this],\r\n                [\"s_douShouQi_animal\", this.onReceive_animal, this],\r\n                [\"s_douShouQi_overGame\", this.onReceive_overGame, this],\r\n                [\"s_douShouQi_qiuHeOther\", this.onReceive_qiuHeOther, this],\r\n                [\"s_douShouQi_qiuHeAgreeOther\", this.onReceive_qiuHeAgreeOther, this],\r\n            ];\r\n\r\n            listenerList.forEach(element => {\r\n\r\n                onfire.on(element[0],element[1],element[2]);\r\n\r\n            });\r\n        }\r\n\r\n        this.addButtonListener();\r\n\r\n    },\r\n\r\n    // 销毁时调用\r\n    onDestroy(){\r\n\r\n        var listenerList = [\r\n            [\"gameData\", this.onReceive_login, this],\r\n            [\"s_douShouQi_start\", this.onReceive_start, this],\r\n            [\"s_douShouQi_move\", this.onReceive_move, this],\r\n            [\"s_douShouQi_talk\", this.onReceive_talk, this],\r\n            [\"s_douShouQi_animal\", this.onReceive_animal, this],\r\n            [\"s_douShouQi_overGame\", this.onReceive_overGame, this],\r\n            [\"s_douShouQi_qiuHeOther\", this.onReceive_qiuHeOther, this],\r\n            [\"s_douShouQi_qiuHeAgreeOther\", this.onReceive_qiuHeAgreeOther, this],\r\n        ];\r\n\r\n        // 移除监听\r\n        listenerList.forEach(element => {\r\n\r\n            onfire.un(element[0]);\r\n\r\n        });\r\n    },\r\n\r\n    start () {\r\n\r\n        \r\n\r\n    },\r\n\r\n// ******************    数据通讯   ******************\r\n\r\n    // 进入游戏\r\n    onReceive_login ( data1, data2) {\r\n\r\n        console.log( \" onReceive_login ++++++++++++++++++++++++ Doushouqi \" );\r\n\r\n        this.allData            = data1;\r\n\r\n        this.gameData           = data1[\"gameData\"];\r\n\r\n        // 初始化用户数据\r\n        this.myName.string      = data1[\"myUserInfo\"][\"name\"];\r\n\r\n        this.otherName.string   = data1[\"otherUserInfo\"][\"name\"];\r\n\r\n        this._selfUID           = data1[\"myUserInfo\"][\"uid\"];\r\n\r\n        this._otherUID          = data1[\"otherUserInfo\"][\"uid\"];\r\n\r\n        this._doItUID           = data1[\"s_douShouQi_doIt\"][\"doIt\"];\r\n\r\n        // 初始化 斗兽棋棋盘\r\n        this.init();\r\n\r\n        this.initUI();\r\n\r\n    },\r\n\r\n    // 游戏开始\r\n    onReceive_start( data1, data2){\r\n\r\n        console.log(\"***************c_doushouqi_play***************\", data1[\"success\"])\r\n\r\n        if ( data1[\"success\"] == 0 ){\r\n\r\n            this.openUpdate();\r\n\r\n            this.onOptionalTimeAni();\r\n\r\n        }\r\n\r\n    },\r\n\r\n    // 点击箱子后请求到的动物\r\n    onReceive_animal( data1, data2 ) {\r\n\r\n        if (data1[\"success\"] == 0) {\r\n\r\n            var row         = data1[\"r\"];\r\n\r\n            var col         = data1[\"c\"];\r\n\r\n            var myCode      = -1;\r\n\r\n            // 切换操作对象\r\n            var doItID      = data1[\"s_douShouQi_doIt\"][\"doIt\"];\r\n\r\n            if ( this._isFirst ) {\r\n\r\n                this._isFirst = false;\r\n\r\n                var firstCode = 0;\r\n\r\n                if ( data1[\"animalIndex\"] < 10 ) {\r\n\r\n                    // 红色 都属于第一个操作用户的\r\n                    firstCode = 1;\r\n\r\n                } else {\r\n\r\n                    // 蓝色 都属于第一个操作用户的\r\n                    firstCode = 2;\r\n\r\n                }\r\n\r\n                var baseData = {\r\n\r\n                    firstUID: this._doItUID,\r\n\r\n                    firstAnimal: firstCode,\r\n\r\n                };\r\n\r\n                Com.setItem( baseData );\r\n\r\n                // 确定自己动物的颜色\r\n                if ( this._doItUID == this._selfUID ){\r\n\r\n                    myCode = this._selfUID;\r\n\r\n                } else {\r\n\r\n                    myCode = this._otherUID;\r\n\r\n                }\r\n\r\n            } else {\r\n\r\n                var firstAnimal = Com.getItem().firstAnimal;\r\n\r\n                var firstUID    = Com.getItem().firstUID;\r\n\r\n                var animalCode = 0;\r\n\r\n                if ( firstUID == this._selfUID ) {\r\n\r\n                    if ( firstAnimal == 1 ) {\r\n\r\n                        // 所有红色动物mycode都标记为this._selfUID\r\n                        if ( data1[\"animalIndex\"] < 10 ) {\r\n\r\n                            myCode = this._selfUID;\r\n\r\n                        } else {\r\n\r\n                            myCode = this._otherUID;\r\n\r\n                        }\r\n\r\n                    } else {\r\n\r\n                        // 所有蓝色动物mycode都标记为this._selfUID\r\n                        if ( data1[\"animalIndex\"] > 10 ) {\r\n\r\n                            myCode = this._selfUID;\r\n\r\n                        } else {\r\n\r\n                            myCode = this._otherUID;\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                } else {\r\n\r\n                    if ( firstAnimal == 1 ) {\r\n\r\n                        // 所有红色动物mycode都标记为this._otherUID\r\n                        if ( data1[\"animalIndex\"] < 10 ) {\r\n\r\n                            myCode = this._otherUID;\r\n\r\n                        } else {\r\n\r\n                            myCode = this._selfUID;\r\n\r\n                        }\r\n\r\n                    } else {\r\n\r\n                        // 所有蓝色动物mycode都标记为this._otherUID\r\n\r\n                        if ( data1[\"animalIndex\"] > 10 ) {\r\n\r\n                            myCode = this._otherUID;\r\n\r\n                        } else {\r\n\r\n                            myCode = this._selfUID;\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            this._doItUID   = doItID; \r\n\r\n            this.tableNodes[row][col].animal.getComponent(\"Animal\").playAnimation( this.onAnimaltionBreakCallback.bind(this), data1[\"animalIndex\"], myCode );\r\n\r\n        }\r\n\r\n    },\r\n\r\n    onReceive_MyCode ( data ) {\r\n\r\n        console.log( \" onReceive_MyCode ==== \", data[\"myCode\"] );\r\n\r\n        this._myCode = data[\"myCode\"];\r\n\r\n    },\r\n\r\n    // 移动动物\r\n    onReceive_move( data1, data2 ) {\r\n\r\n        // console.log( \"  onReceive_move ++++++++++++++++++++++++++++ \" );\r\n\r\n        if ( data1[\"success\"] != 0 ) {\r\n\r\n            console.log( \"  success move errcode \", data1[\"success\"]);\r\n            return;\r\n        }\r\n\r\n        var index0      = data1['r'];\r\n\r\n        var index1      = data1['c'];\r\n\r\n        var row         = data1['moveR'];\r\n\r\n        var col         = data1['moveC'];\r\n\r\n        var myCode      = -1;\r\n\r\n        var doItObj     = data1[\"s_douShouQi_doIt\"];\r\n\r\n        if ( doItObj != null ) {\r\n\r\n            var doItID      = data1[\"s_douShouQi_doIt\"][\"doIt\"];\r\n\r\n            this._doItUID   = doItID;\r\n\r\n        }\r\n\r\n        var targetPos   = { x:this.allPos[row][col].x,\r\n                            y:this.allPos[row][col].y };\r\n\r\n        var selectedPos   = { x:this.allPos[index0][index1].x,\r\n                            y:this.allPos[index0][index1].y };\r\n\r\n        var moveData    = { targetPos:targetPos, selectedRow:index0, selectedCol:index1, row:row, col:col, winAnimalIdx:data1[\"animalIndex\"] };\r\n\r\n        this.tableNodes[index0][index1].animal.getComponent(\"Animal\").node.setLocalZOrder(99);\r\n\r\n        this.tableNodes[index0][index1].animal.getComponent(\"Animal\").onMoveToTarget( moveData, this.onMoveCallbackDel.bind(this) );\r\n\r\n        this.onCheckOptionSelf();\r\n        \r\n    },\r\n\r\n    // 操作方 暂时不用\r\n    onRecive_doIt( data1, data2 ) {\r\n\r\n\r\n    },\r\n\r\n    // 游戏结束\r\n    onReceive_overGame( data1, data2 ) {\r\n        // this.closeUpdate();\r\n\r\n        console.log( \"onReceive_overGame s \", data1[\"youWin\"] );\r\n\r\n        this.onResultCall = function () {\r\n\r\n            console.log( \" onResultCall  === \" );\r\n\r\n            // 清除本地缓存的数据：记录的自己的动物的颜色以及UID\r\n            Com.deleteItem();\r\n\r\n            this.closeUpdate();\r\n\r\n            this.onAddResultLayer( data1[\"youWin\"] );\r\n\r\n\r\n        };\r\n        \r\n        this.scheduleOnce( this.onResultCall,  0.5);\r\n\r\n        // 切换场景\r\n        // cc.director.loadScene(\"hall\",function(){\r\n\r\n        //     onfire.fire(\"hall_gameOver\",data1, data2);\r\n\r\n        // });\r\n\r\n    },\r\n\r\n    // 求和询问提示\r\n    onReceive_qiuHeOther (  ) {\r\n        \r\n        this._alertStr = \"qiuhe\";\r\n\r\n        this.onAddAlert( \"对方求和,是否同意?\" );\r\n\r\n    },\r\n\r\n    onReceive_qiuHeAgreeOther (  ) {\r\n\r\n        this.onAddTip( \"对方拒绝求和!\" );\r\n\r\n    },\r\n\r\n    // 发送数据\r\n    /**\r\n     * @brief: 发送数据到服务器\r\n     * @data: 发送的数据\r\n     * @packgeName: 发送的数据的包明\r\n     */\r\n    onSendGameData: function ( packgeName, data ) {\r\n\r\n        requestHandler.sendRequest(packgeName, data);\r\n\r\n    },\r\n\r\n    onReceive_talk: function ( data1, data2 ) {\r\n\r\n        if ( data1[\"success\"] == 0 ) {\r\n\r\n\r\n\r\n        }\r\n\r\n    },\r\n    \r\n\r\n// ******************    数据通讯   ******************\r\n\r\n    // update (dt) {},\r\n\r\n    initUI: function (  ) {\r\n\r\n        this.sp_tip.node.active = true;\r\n\r\n        this.sp_tip.node.scale = 0;\r\n\r\n        this.sp_alert.node.active = true;\r\n\r\n        this.sp_alert.node.scale = 0;\r\n\r\n        this.sp_destory.node.active = false;\r\n\r\n        this.sp_destory.node.opacity = 0;\r\n\r\n        this.sp_white.node.active = true;\r\n\r\n        this.sp_white.node.opacity = 255;\r\n\r\n        this.sp_red_time.node.active = true\r\n\r\n        this.sp_red_time.node.opacity = 255;\r\n\r\n        this.sp_red_time.node.scaleY = 0;\r\n\r\n        this.sp_blue_time.node.active = true\r\n\r\n        this.sp_blue_time.node.opacity = 255;\r\n\r\n        this.sp_blue_time.node.scaleY = 0;\r\n\r\n        this.onHideTipDir();\r\n\r\n        this.node_dir.setLocalZOrder(100);\r\n\r\n        this.sp_destory.node.setLocalZOrder(100);\r\n\r\n    },\r\n\r\n    // init 初始化\r\n    init: function (  ) {\r\n\r\n        this._blueAnimal    = [];\r\n\r\n        this._redAnimal     = [];\r\n\r\n        this._rand01        = -1;\r\n\r\n        this._blueSelf      = true;\r\n\r\n        this._pinkSelf      = false;\r\n\r\n        this._isShowTip     = false;\r\n\r\n        this._isShowAlert   = false;\r\n\r\n        this._isCanOptional = false;        //当前是否可以进行操作\r\n\r\n        this._selectedPoint = [-1, -1];     //记录被选中的动物\r\n\r\n        this._alertStr      = \"\";   //标记当前是求和还是认输按钮 默认是空\r\n\r\n        this._rand0Count    = 0;\r\n\r\n        this._rand1Count    = 0;\r\n\r\n        this._isFirst       = true;\r\n\r\n        this._firstAnimalIndex = -1;\r\n\r\n        this._helpNode      = null;\r\n\r\n        // this._selfUID       = -1;   //自己的UUID\r\n\r\n        // this._doItUID       = -1;   //操作方的UUID\r\n\r\n        // row:行\r\n        this._selectedObj= {row:-1, col:-1, count:0}; //\r\n\r\n        // eq:相等 gt:(greater than) 大于 lt:(less than) 小与\r\n        this._compareState = { eq:0, gt:1, lt:2, same:3 };\r\n\r\n        this.width = cc.winSize.width;\r\n\r\n        this.height = cc.winSize.height;\r\n\r\n        // 所有点集合\r\n        this.allPos =   [   [cc.Vec2, cc.Vec2, cc.Vec2, cc.Vec2],\r\n                            [cc.Vec2, cc.Vec2, cc.Vec2, cc.Vec2],\r\n                            [cc.Vec2, cc.Vec2, cc.Vec2, cc.Vec2],\r\n                            [cc.Vec2, cc.Vec2, cc.Vec2, cc.Vec2],\r\n                        ];\r\n\r\n        this.allBtnEmpty = [\r\n\r\n                            [cc.Button, cc.Button, cc.Button, cc.Button],\r\n                            [cc.Button, cc.Button, cc.Button, cc.Button],\r\n                            [cc.Button, cc.Button, cc.Button, cc.Button],\r\n                            [cc.Button, cc.Button, cc.Button, cc.Button],\r\n                            \r\n                        ];\r\n\r\n        var pos = null;\r\n\r\n        var emptyNode = null;\r\n\r\n        for (let index = 0; index < 4; index++) {\r\n\r\n            for (let jndex = 0; jndex < 4; jndex++ ) {\r\n\r\n                emptyNode = this.node_table.getChildByName(\"node_pos_\" + index.toString() + jndex.toString())\r\n\r\n                pos = emptyNode.position;\r\n\r\n                this.allPos[index][jndex] = pos;\r\n\r\n            }\r\n\r\n        }\r\n\r\n        // 所有动物集合\r\n\r\n        this.tableNodes =   [   [{}, {}, {}, {}],\r\n                                [{}, {}, {}, {}],\r\n                                [{}, {}, {}, {}],\r\n                                [{}, {}, {}, {}],\r\n                            ];\r\n\r\n        this.onInitTable();\r\n\r\n    },\r\n\r\n    addButtonListener: function (  ) {\r\n\r\n        var $this = this;\r\n\r\n        this.btn_help.node.on(cc.Node.EventType.TOUCH_START, function (event) {\r\n            \r\n            console.log(\"TOUCH_START\")\r\n\r\n            $this.node_help.active = true;\r\n\r\n            $this.node_help.opacity = 255;\r\n\r\n        });\r\n\r\n        this.btn_help.node.on(cc.Node.EventType.TOUCH_END, function (event) {\r\n\r\n            $this.node_help.active = false;\r\n\r\n            $this.node_help.opacity = 0;\r\n\r\n        });\r\n\r\n    },\r\n\r\n    // 按钮事件监听\r\n    onTouchListener: function ( event, customEventData ){\r\n\r\n        console.log( \" customEventData \", customEventData );\r\n\r\n        if ( customEventData == \"back\" ) {\r\n\r\n            this.onAddTip( \"back-home\" ); \r\n\r\n            this.onAddResultLayer( 0 );\r\n\r\n        } else if ( customEventData == \"qiuhe\" ) {\r\n\r\n            this._alertStr = \"qiuhe\";\r\n\r\n            var data = {};\r\n\r\n            this.onSendGameData(\"c_douShouQi_qiuHe\", data);\r\n\r\n        } else if ( customEventData == \"renshu\" ) {\r\n\r\n            this._alertStr = \"renshu\";\r\n\r\n            this.onAddAlert( \"您确定认输吗?\" );\r\n\r\n        } else if ( customEventData == \"btn_refuse\" ) {\r\n\r\n            if ( this._alertStr == \"qiuhe\" ) {\r\n\r\n                var data = { iDo:1 };\r\n\r\n                this.onSendGameData(\"c_douShouQi_qiuHeAgree\", data);\r\n\r\n            } else if ( this._alertStr == \"renshu\" ) {\r\n\r\n\r\n\r\n            }\r\n\r\n            // 拒绝按钮\r\n            this.onHideAlert();\r\n\r\n        } else if ( customEventData == \"btn_agree\" ) {\r\n\r\n            if ( this._alertStr == \"qiuhe\" ) {\r\n\r\n                var data = { iDo:0 };\r\n\r\n                this.onSendGameData(\"c_douShouQi_qiuHeAgree\", data);\r\n\r\n            } else if ( this._alertStr == \"renshu\" ) {\r\n\r\n                var data = {};\r\n\r\n                this.onSendGameData(\"c_douShouQi_renShu\", data);\r\n                \r\n            }\r\n            \r\n            // 确认按钮\r\n            this.onHideAlert();\r\n\r\n        }\r\n\r\n    },\r\n\r\n    // 玩家头像加载\r\n    onLoadHeadImg: function (  ) {\r\n\r\n\r\n\r\n    },\r\n\r\n    // 初始化玩家棋盘\r\n    onInitTable: function () {\r\n        // 随机生成动物\r\n        /**\r\n         *  首先：当前格子生成那个颜色的动物 0 蓝色动物 1 粉色动物\r\n         *  其次：根据颜色，随机生成相应的动物。【1-8】 分别代表不同的动物，去重随机，如果发现\r\n         *      随机到相同的数字，则删除，重新随机\r\n         *  在每次随机的时候都要判断0或1（也就是蓝色动物或粉色动物）是否已经随机了8中动物，如果随机够了，则不在\r\n         *  进行随机；此时只随机另一种颜色的动物。 如果两种动物都随机够了，则停止。\r\n         */\r\n        this.onDelRepeatRandBlue();\r\n\r\n        this.onDelRepeatRandPink();\r\n\r\n        var btnEmpty = null;\r\n\r\n        var _componentStr = '';\r\n\r\n        var _gameDataContent = 0;\r\n\r\n        for (let index = 0; index < this.gameData.length; index++) {\r\n\r\n            for (let jndex =0; jndex < this.gameData[index].length; jndex++ ) {\r\n\r\n                _gameDataContent = this.gameData[index][jndex];\r\n\r\n                btnEmpty = cc.instantiate( this.empty_prefab );\r\n\r\n                btnEmpty.addComponent('BtnEmpty');\r\n\r\n                btnEmpty.x = this.allPos[index][jndex].x;\r\n\r\n                btnEmpty.y = this.allPos[index][jndex].y;\r\n\r\n                btnEmpty.setLocalZOrder(0);\r\n\r\n                btnEmpty.parent = this.node_table;\r\n\r\n                this.allBtnEmpty[index][jndex] = btnEmpty;\r\n\r\n                btnEmpty.getComponent('BtnEmpty').onSetRowAndCol( index, jndex );\r\n\r\n                btnEmpty.getComponent('BtnEmpty').onSetTouchCallback( this.onEmptyTouchCallback.bind(this) );\r\n\r\n                // 初始化小动物\r\n                this.onCreateAnimal( index, jndex, _gameDataContent );\r\n\r\n            }\r\n\r\n        }\r\n\r\n    },\r\n\r\n    onCreateAnimal: function ( index, jndex, animalStatus ) {\r\n\r\n        if ( animalStatus == -1 ) {\r\n\r\n            this.tableNodes[index][jndex] = { isDie:true, animal:null };\r\n            return;\r\n\r\n        }\r\n\r\n        var _animal = cc.instantiate( this.animal_Prefab );\r\n\r\n        _animal.addComponent('Animal');\r\n                \r\n        _animal.getComponent('Animal').init();\r\n        \r\n        _animal.x = this.allPos[index][jndex].x;\r\n\r\n        _animal.y = this.allPos[index][jndex].y;\r\n\r\n        _animal.active = true;\r\n\r\n        _animal.opacity = 255;\r\n\r\n        _animal.setLocalZOrder(10);\r\n\r\n        _animal.parent = this.node_table;\r\n\r\n        console.log( \" 创建动物： \", animalStatus );\r\n\r\n        if ( animalStatus == 0 ) {\r\n\r\n            // 箱子 不需要任何操作\r\n\r\n        } else {\r\n\r\n            _animal.getComponent('Animal').onLoadAnimal( animalStatus );\r\n\r\n            // onSetAnimalCode\r\n            // var stoargeUID = Com.getItem().firstUID;\r\n\r\n            // if ( stoargeUID == this._selfUID ) {\r\n\r\n            //     _animal.getComponent('Animal').onSetAnimalCode( Com.getItem().myAnimal );\r\n\r\n            // } else {\r\n\r\n            //     _animal.getComponent('Animal').onSetAnimalCode( Com.getItem().otherAnimal );\r\n\r\n            // }\r\n\r\n        }\r\n\r\n        this.tableNodes[index][jndex] = { isDie:false, animal:_animal };\r\n\r\n        _animal.getComponent('Animal').onSetRowAndCol( index, jndex );\r\n\r\n        _animal.getComponent('Animal').onBreakBombCallback( this.onBombTouchCallback.bind(this) );\r\n\r\n        _animal.getComponent('Animal').onSetTouchCallback( this.onTouchCallback.bind(this) );\r\n\r\n    },\r\n\r\n    onRandAnimal: function (  ) {\r\n\r\n        var rand01 = Com.onRandomNum(0, 2);\r\n\r\n        if ( this._rand0Count == 8 ) {\r\n\r\n            rand01 = 1;\r\n\r\n        }else if ( this._rand1Count == 8 ) {\r\n\r\n            rand01 = 0;\r\n\r\n        }\r\n\r\n        if ( rand01 == 0 ) {\r\n\r\n            this._rand0Count += 1;\r\n\r\n            return this._blueAnimal[this._rand0Count-1];\r\n\r\n        } else {\r\n\r\n            this._rand1Count += 1;\r\n\r\n            return this._redAnimal[this._rand1Count-1];\r\n\r\n        }\r\n\r\n    },\r\n\r\n    // 去重随机 蓝色动物\r\n    /**\r\n     * for(i=0;i<10;i++)                    //产生10个随机数\r\n        {\r\n            A[i]=1+rand()%10;                //得到随机数(范围在1-10之间)\r\n                for(j=0;j<i;j++)                 //判断和前面的数是否重复\r\n                    if(A[i]==A[j]) {\r\n                        i--;\r\n                        break;\r\n                    }  //如果重复,重新产生随机数\r\n        }\r\n     */\r\n    onDelRepeatRandBlue: function (  ) {\r\n\r\n        var idx = 0;\r\n\r\n        for (;idx < 8; idx++) {\r\n\r\n            var randNum = Com.onRandomNum(1, 9);\r\n\r\n            this._blueAnimal.push(randNum); \r\n\r\n            for (let jndex = 0; jndex < idx; jndex++) {\r\n\r\n                if ( randNum == this._blueAnimal[jndex] ) {\r\n\r\n                    this._blueAnimal.splice( idx, 1 );\r\n\r\n                    idx--;\r\n\r\n                    break;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n        \r\n\r\n    },\r\n\r\n    // 去重随机 粉色动物\r\n    onDelRepeatRandPink: function (  ) {\r\n\r\n        var idx = 0;\r\n\r\n        for (; idx < 8; idx++) {\r\n\r\n            var randNum = Com.onRandomNum(11, 19);\r\n\r\n            this._redAnimal.push(randNum); \r\n\r\n            for (let jndex = 0; jndex < idx; jndex++) {\r\n\r\n                if ( randNum == this._redAnimal[jndex] ) {\r\n\r\n                    this._redAnimal.splice( idx, 1 );\r\n\r\n                    idx--;\r\n\r\n                    break;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    },\r\n\r\n    // 点击棋子回调；一次只能点击一个自己的棋子；如果点击自己的第二枚棋子，则取消前一个选中的棋子；\r\n    // 如果点击自己的棋子后，在点击对方的棋子则进行对比大小，然后进行消除的逻辑\r\n    // 如果点击的是初始的方块，则是翻棋子，然后轮到对方操作\r\n\r\n    // 首先判断当前是否为蓝方操作，如果是，在没有选中蓝方的情况下，是不可以点击粉色动物的；在选中蓝方情况下，\r\n    // 点击任意一种颜色动物，都要进行判断（是否相邻，如果相邻，可以进行比较吃或被吃，如果不相邻，取消被选中状态）\r\n\r\n\r\n    //切换动物操作时候有问题\r\n    /**\r\n     *  有哪些操作需要切换用户操作\r\n     *  1.默认是蓝色方操作（不管是蓝方操作还是粉方操作），在点击翻开棋子动作后切换用户\r\n     *  2.点击棋子移动（或者吃掉另一方的棋子），切换用户\r\n     */\r\n    onTouchCallback: function ( row, col, objCode, isSelected ) {\r\n\r\n        // console.log( \"onTouchCall&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\", this._isCanOptional );\r\n\r\n        if ( !this.onIsSelfdoit() ) {\r\n\r\n            this.onAddTip( \"等待其他玩家操作完成\" );\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        // 当前蓝色方是否被选中 选中（可以随便点任何一个地方，如果点击的地方不与它相邻，则恢复到正常状态，如果点击的\r\n        // 的是扣着的对象，则直接翻开，显示小动物并且恢复到正常状态）\r\n\r\n        // 首先操作对象要一致 然后判断当前是否被选中 在判断：如果选中了同颜色的 && this._selfUID == objCode\r\n        if ( this._doItUID == objCode && isSelected) {\r\n\r\n            if ( this._selectedObj.count == 0 ) {\r\n\r\n                this._selectedObj.count = 1;\r\n\r\n                this._selectedObj.row = row;\r\n\r\n                this._selectedObj.col = col;\r\n\r\n                this.tableNodes[row][col].animal.getComponent(\"Animal\").onRunBig();\r\n\r\n                this.onCheckRoundMove( row, col, this.tableNodes[row][col].animal.getComponent(\"Animal\") );\r\n\r\n                console.log( \"this._selectedObj.count == 0\" );\r\n\r\n            } else if ( this._selectedObj.count >= 1 ) {\r\n\r\n                console.log( \"this._selectedObj.count >= 1\" );\r\n\r\n                this.tableNodes[this._selectedObj.row][this._selectedObj.col].animal.getComponent(\"Animal\").onRunSmall();\r\n\r\n                this.onHideTipDir();\r\n\r\n                this._selectedObj.count = 0;\r\n\r\n                this._selectedObj.row = -1;\r\n\r\n                this._selectedObj.col = -1;\r\n\r\n            }\r\n\r\n        } else if ( this.onIsSelfdoit() && !isSelected ) {\r\n\r\n            this._selectedObj.count = 0;\r\n\r\n            this._selectedObj.row = -1;\r\n\r\n            this._selectedObj.col = -1;\r\n\r\n            this.onHideTipDir();\r\n\r\n        } else {\r\n            //如果没有被选中的棋子，就点击了其它颜色的棋子 提示玩家不允许操作其它玩家的棋子\r\n            if ( !this.onCheckOptionalValid() ) {\r\n\r\n                this.onAddTip( \"不可以操作其他玩家棋子\" );\r\n\r\n                return;\r\n\r\n            }\r\n\r\n            // 消除操作 计算 根据\r\n            /**\r\n             *  已经记录了被选中的点\r\n             *  1.计算传过来的点是否与被选中的点是否相邻\r\n             *  2.具体算法：(row - 1 >= 0 && row - 1 == selected[0])\r\n             */\r\n\r\n             console.log( \" else 913 \" );\r\n\r\n            if ( this.onClearAlgorithm( row, col ) && this._doItUID != objCode ) {\r\n\r\n                // 可以进行消除逻辑 让当前被选中的小动物，进行移动到将被消除的小动物位置\r\n\r\n                var index0 = this._selectedObj.row;\r\n\r\n                var index1 = this._selectedObj.col;\r\n\r\n                var targetPos = { x:this.allPos[row][col].x,\r\n                                  y:this.allPos[row][col].y };\r\n\r\n                this.tableNodes[index0][index1].animal.getComponent(\"Animal\").node.setLocalZOrder(99);\r\n\r\n\r\n                if ( !config.isNetwork ){\r\n\r\n                    var winAnimalIdx = onCheckCompare( row, col );\r\n\r\n                    console.log( \"winAnimalIdx ==1118== \", winAnimalIdx);\r\n\r\n                    var moveData    = { targetPos:targetPos, selectedRow:index0, selectedCol:index1, row:row, col:col, winAnimalIdx:winAnimalIdx };\r\n\r\n                    // 移动 回调删除被吃掉的棋子（被吃掉的棋子进行删除）\r\n                    this.tableNodes[index0][index1].animal.getComponent(\"Animal\").onMoveToTarget( moveData, this.onMoveCallbackDel.bind(this) );\r\n\r\n                } else {\r\n\r\n                   // 移动 回调删除被吃掉的棋子（被吃掉的棋子进行删除）\r\n                    var data = { r:index0, c:index1, moveR:row, moveC:col };\r\n\r\n                    this.onSendGameData(  \"c_douShouQi_move\", data );\r\n\r\n                }\r\n\r\n\r\n\r\n            } else {\r\n\r\n                var index0 = this._selectedObj.row;\r\n\r\n                var index1 = this._selectedObj.col;\r\n\r\n                this.tableNodes[index0][index1].animal.getComponent(\"Animal\").onRunSmall();\r\n\r\n                this.onHideTipDir();\r\n\r\n                // 不可以进行消除 原地不动\r\n                this._selectedObj.row = -1;\r\n\r\n                this._selectedObj.col = -1;\r\n\r\n            }\r\n\r\n\r\n        }\r\n\r\n    },\r\n\r\n    // 点击默认占位的对象后回调\r\n    onBombTouchCallback: function ( row, col, componentStr ) {\r\n\r\n        console.log( \"onBombTouchCall\", this.onIsSelfdoit() );\r\n\r\n        if ( !this.onIsSelfdoit() ) {\r\n\r\n            this.onAddTip( \"等待对方操作完成\" );\r\n            \r\n            return;\r\n\r\n        } else {\r\n\r\n            // 请求服务器 拿到当前位置的动物\r\n\r\n            if ( !config.isNetwork ){\r\n\r\n                // 客户端实现本地随机动物逻辑\r\n                var animalIdx = this.onRandAnimal();\r\n\r\n                this._doItUID   = doItID;\r\n\r\n                var myCode = -1;\r\n\r\n                if ( animalIdx < 10 ) {\r\n\r\n                    myCode = this._selfUID;\r\n\r\n                } else {\r\n\r\n                    myCode = this._otherUID;\r\n\r\n                }\r\n\r\n                this.tableNodes[row][col].animal.getComponent(\"Animal\").playAnimation( this.onAnimaltionBreakCallback.bind(this), animalIdx, myCode );\r\n\r\n            } else {\r\n\r\n                var data = { r:row, c:col };\r\n\r\n                this.onSendGameData( \"c_douShouQi_animal\", data );\r\n\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n    },\r\n\r\n    onAnimaltionBreakCallback: function ( row, col ) {\r\n\r\n        this.tableNodes[row][col].animal.active = true;\r\n\r\n        this.tableNodes[row][col].animal.opacity = 255;\r\n\r\n        this.onCheckOptionSelf();\r\n\r\n    },\r\n\r\n    // 点击空白方块的回调\r\n    onEmptyTouchCallback: function ( row, col ) {\r\n\r\n        console.log( \"onEmptyTouchCallback\", row, col );\r\n        // 把被选中的动物移动到当前位置\r\n        if ( this.onClearAlgorithm( row, col ) ) {\r\n\r\n            var index0 = this._selectedObj.row;\r\n\r\n            var index1 = this._selectedObj.col;   \r\n\r\n            // console.log( \" 1172 index0  index1 \", index0, index1 );\r\n\r\n            var data = { r:index0, c:index1, moveR:row, moveC:col };\r\n\r\n            this.onSendGameData(  \"c_douShouQi_move\", data );\r\n\r\n        } else {\r\n\r\n            // 不能移动\r\n\r\n        }\r\n\r\n\r\n    },\r\n\r\n    // 移动后并且删除被吃掉的棋子\r\n    onMoveCallbackDel: function ( moveData ) {\r\n\r\n        // 设置操作棋子的row col\r\n        var selected0 = moveData.selectedRow;\r\n\r\n        var selected1 = moveData.selectedCol;\r\n\r\n        var row       = moveData.row;\r\n\r\n        var col       = moveData.col;\r\n\r\n        var moveState = moveData.winAnimalIdx;\r\n\r\n        console.log( \"moveState == \", moveState );\r\n\r\n        if ( moveState == -1 ) {\r\n\r\n            // 两个棋子都删除\r\n\r\n            // console.log( \" 1209 idDie  \",  this.tableNodes[row][col].isDie);\r\n\r\n            if ( this.tableNodes[row][col].isDie ) {\r\n\r\n                Com.onPlayGameEffect( 1 );\r\n\r\n                this.onMoveCallback( moveData );\r\n\r\n                return;\r\n            }\r\n\r\n            Com.onPlayGameEffect( 5 );\r\n\r\n            this.onPlayDestoryAni( row, col );\r\n    \r\n            // 删除被吃掉的棋子\r\n            this.tableNodes[row][col].animal.getComponent(\"Animal\").onDestory();\r\n\r\n            this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onDestory();\r\n\r\n            this.tableNodes[row][col].isDie = true;\r\n\r\n            this.tableNodes[selected0][selected1].isDie = true;\r\n\r\n        } else {\r\n\r\n            // selected被吃掉\r\n\r\n            if ( this.tableNodes[row][col].isDie ) {\r\n\r\n                Com.onPlayGameEffect( 1 );\r\n\r\n                this.onMoveCallback( moveData );\r\n\r\n                return;\r\n            }\r\n\r\n            console.log( \" row col \", this.tableNodes[row][col].animal.getComponent(\"Animal\").onGetAnimalIndex() );\r\n\r\n            console.log( \" selected0 selected1 \", this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onGetAnimalIndex() );\r\n\r\n            if ( this.tableNodes[row][col].animal.getComponent(\"Animal\").onGetAnimalIndex() == moveState ){\r\n\r\n                Com.onPlayGameEffect( 3 );\r\n\r\n                this.tableNodes[selected0][selected1].isDie = true;\r\n\r\n                this.tableNodes[row][col].isDie = false;\r\n        \r\n                this.onPlayDestoryAni( row, col );\r\n                // 删除被吃掉的棋子\r\n                this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onDestory();\r\n\r\n            } else if ( this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onGetAnimalIndex() == moveState ) {\r\n\r\n                // 目标被吃掉\r\n                Com.onPlayGameEffect( 4 );\r\n\r\n                this.tableNodes[row][col].isDie = true;\r\n\r\n                this.tableNodes[selected0][selected1].isDie = false;\r\n\r\n                this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").node.setLocalZOrder(1);\r\n        \r\n                this.onPlayDestoryAni( row, col );\r\n                // 删除被吃掉的棋子\r\n                this.tableNodes[row][col].animal.getComponent(\"Animal\").onDestory();\r\n        \r\n                this.tableNodes[row][col].animal = this.tableNodes[selected0][selected1].animal;\r\n\r\n                this.tableNodes[row][col].isDie = this.tableNodes[selected0][selected1].isDie;\r\n\r\n                this.tableNodes[selected0][selected1].isDie = true;\r\n\r\n                this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onSetRowAndCol( row, col );\r\n\r\n            }\r\n\r\n        }\r\n\r\n    },\r\n\r\n    //  移动结果回调\r\n    onMoveCallback: function ( moveData ) {\r\n\r\n        // 切换操作用户\r\n        console.log( \"移动完成\" );\r\n        // 移动后属性互换\r\n        var selected0 = moveData.selectedRow;\r\n\r\n        var selected1 = moveData.selectedCol;\r\n\r\n        var row       = moveData.row;\r\n\r\n        var col       = moveData.col;\r\n\r\n        var targetDie = this.tableNodes[row][col].isDie;\r\n\r\n\r\n        if ( this.tableNodes[selected0][selected1].isDie ){\r\n\r\n            console.log( \" error 1374+++++ isDie true \" );\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        this.tableNodes[row][col].animal = this.tableNodes[selected0][selected1].animal;\r\n\r\n        this.tableNodes[row][col].isDie = this.tableNodes[selected0][selected1].isDie;\r\n\r\n        this.tableNodes[selected0][selected1].isDie = targetDie;\r\n\r\n        this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onSetRowAndCol( row, col );\r\n\r\n    },\r\n\r\n    // 切换用户\r\n    onCheckOptionSelf: function (  ) {\r\n\r\n        this.closeUpdate();\r\n\r\n        this.onSetOptionalTime();\r\n\r\n        // 要清理 自己的棋子的状态\r\n        this.onResetStatus();\r\n\r\n        this._selectedObj.row = -1;\r\n\r\n        this._selectedObj.col = -1;\r\n\r\n        this._selectedObj.count = 0;\r\n\r\n        if ( this.onIsSelfdoit() ) {\r\n\r\n            this.onRedBoardAni( true );\r\n\r\n            this.onBlueBoardAni( false );\r\n\r\n        } else if ( !this.onIsSelfdoit() ) {\r\n\r\n            this.onBlueBoardAni( true );\r\n\r\n            this.onRedBoardAni( false );\r\n\r\n        }\r\n\r\n        this.onHideTipDir();\r\n\r\n        this.onShowValidOptionalObj();\r\n\r\n    },\r\n\r\n    onIsSelfdoit: function (  ) {\r\n\r\n        if ( this._selfUID == this._doItUID ){\r\n\r\n            return true;\r\n\r\n        } else if ( this._selfUID != this._doItUID ) {\r\n\r\n            return false;\r\n\r\n        }\r\n\r\n    },\r\n\r\n    //计算点击后是否可以进行移动\r\n    onClearAlgorithm: function ( row, col ) {\r\n\r\n        var selected0 = this._selectedObj.row;\r\n\r\n        var selected1 = this._selectedObj.col;\r\n\r\n        var isClear = false;\r\n\r\n        if ( row - 1 == selected0 && col == selected1 ) {\r\n\r\n            // 消除\r\n            isClear = true;\r\n            // console.log( \" row  - 1 \" );\r\n\r\n        } else if ( row + 1 == selected0 && col == selected1 ) {\r\n\r\n            // 消除\r\n            isClear = true;\r\n            // console.log( \" row  + 1 \" );\r\n\r\n        } else if ( row == selected0 && col - 1 == selected1 ) {\r\n\r\n            // 消除\r\n            isClear = true;\r\n            // console.log( \" col  - 1 \" );\r\n            \r\n        } else if ( row == selected0 && col + 1 == selected1 ) {\r\n\r\n            // 消除\r\n            isClear = true;\r\n            // console.log( \" col + 1 \" );\r\n\r\n        } else if ( selected0 == -1 && selected1 == -1 ) {\r\n\r\n            // 不可以消除 直接\r\n            isClear = false;\r\n            // console.log( \" selected0 -1 selected1 -1\" );\r\n\r\n        } else {\r\n\r\n            // 不可以消除 直接\r\n            isClear = false;  \r\n            // console.log( \" else \" );  \r\n\r\n        }\r\n\r\n        console.log( \"isClear ===== \", isClear );\r\n\r\n        return isClear;\r\n\r\n    },\r\n\r\n    // 点击后是否能吃掉对方  消除\r\n    /**\r\n     *  比较大小\r\n     *  1.如果移动的棋子比固定的棋子大，则吃掉对方；否则被吃掉；\r\n     *  2.如果相等，则两个棋子都消失\r\n     */\r\n    onCheckCompare: function ( row, col ) {\r\n\r\n        // this._compareState\r\n        var selected0 = this._selectedObj.row;\r\n\r\n        var selected1 = this._selectedObj.col;\r\n\r\n        var targetObj = this.tableNodes[row][col].animal.componentStr;\r\n\r\n        var selectedIndex = this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onGetAnimalIndex(  );\r\n\r\n        var targetIndex   = this.tableNodes[row][col].animal.getComponent(\"Animal\").onGetAnimalIndex(  );\r\n\r\n        // 首先是特殊情况 老鼠可以吃大象 所以\r\n        /**\r\n         *  所有这个两个对象 如果index一个是8 并且一个是1  要特殊处理\r\n         *  要把大象吃掉\r\n         * \r\n         *  相同颜色的动物不可以互相吃掉\r\n         */\r\n\r\n        // console.log( \"selectedIndex targetIndex\", selectedIndex, targetIndex );\r\n\r\n        var compareState = -1;\r\n\r\n        var winAnimalIdx = -1;\r\n\r\n        if ( (selectedIndex == 8 && targetIndex == 1 ) ) {\r\n\r\n            // 假设被选中的是大象，目标是老鼠 这时候，大象被吃\r\n            compareState = this._compareState.lt;\r\n\r\n            winAnimalIdx = targetIndex;\r\n\r\n        } else if ( (selectedIndex == 1 && targetIndex == 8 ) ) {\r\n\r\n            // 假设被选中的是老鼠，目标是大象 这时候，大象被吃\r\n            compareState = this._compareState.gt;\r\n            winAnimalIdx = selectedIndex;\r\n\r\n        } else if ( selectedIndex == targetIndex ) {\r\n\r\n            compareState = this._compareState.eq;\r\n\r\n            winAnimalIdx = -1;\r\n\r\n        } else if ( selectedIndex > targetIndex ) {\r\n\r\n            compareState = this._compareState.gt;\r\n\r\n            winAnimalIdx = selectedIndex;\r\n\r\n        } else if ( selectedIndex < targetIndex ) {\r\n\r\n            compareState = this._compareState.lt;\r\n\r\n            winAnimalIdx = targetIndex;\r\n\r\n        }\r\n\r\n        return winAnimalIdx;\r\n\r\n    },\r\n\r\n    // 判断两个动物是否相同\r\n    onCheckAnimalSame: function ( row, col ) {\r\n\r\n        var isSame = false;\r\n\r\n        var selected0 = this._selectedObj.row;\r\n\r\n        var selected1 = this._selectedObj.col;\r\n\r\n        var targetComStr = this.tableNodes[row][col].animal.componentStr;\r\n\r\n        var selectedStr = this.tableNodes[selected0][selected1].animal.componentStr;\r\n\r\n        // console.log( \" onCheckAnimalSame \", row, col, targetComStr, selectedStr );\r\n\r\n        if ( targetComStr == selectedStr ) {\r\n\r\n            this.tableNodes[selected0][selected1].animal.getComponent(\"Animal\").onRunSmall();\r\n\r\n            this.tableNodes[row][col].animal.getComponent(\"Animal\").onRunSmall();\r\n\r\n            this.onHideTipDir();\r\n\r\n            isSame = true;\r\n\r\n        }\r\n\r\n        return isSame;\r\n\r\n    },\r\n\r\n    // 检测操作是否合法\r\n    onCheckOptionalValid: function (  ) {\r\n\r\n        var selected0 = this._selectedObj.row;\r\n\r\n        var selected1 = this._selectedObj.col;\r\n\r\n        if ( selected0 == -1 && selected1 == -1 ) {\r\n\r\n            return false;\r\n\r\n        }\r\n\r\n        return true;\r\n\r\n    },\r\n\r\n    // 显示有效的操作对象\r\n    onShowValidOptionalObj: function (  ) {\r\n\r\n        var tempNode = null;\r\n\r\n        var comStr = '';\r\n\r\n        // 如果点击翻棋后，要把所有的被选中的棋子恢复成原来状态\r\n        for (let index = 0; index < this.tableNodes.length; index++) {\r\n\r\n            for (let jndex = 0; jndex < this.tableNodes[index].length; jndex++) {\r\n\r\n                if ( !this.tableNodes[index][jndex].isDie ) {\r\n\r\n                    tempNode = this.tableNodes[index][jndex].animal;\r\n\r\n                    // comStr   = tempNode.componentStr;\r\n                    comStr   = \"Animal\";\r\n\r\n                    var currCode = tempNode.getComponent(comStr).onGetAnimalCode();\r\n\r\n                    // 如果当前为自己操作 显示可以操作的动物\r\n                    if ( this.onIsSelfdoit() ) {\r\n\r\n                        // 判断当前动物是否被翻出来\r\n                        if ( tempNode.getComponent(comStr).getAnimalIsBreak() ){\r\n\r\n                            // 判断当前动物是否为自己的动物\r\n                            if ( this._selfUID == currCode ) {\r\n\r\n                                tempNode.getComponent(comStr).onShowSelfTip();\r\n\r\n                            } else {\r\n\r\n                                tempNode.getComponent(comStr).onHideTip();\r\n\r\n                            }\r\n\r\n                        } else {\r\n\r\n                            tempNode.getComponent(comStr).onOptionalObj();\r\n\r\n                        }\r\n\r\n                    } else {\r\n\r\n                        tempNode.getComponent(comStr).onHideTip();\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    // 重置棋子的状态\r\n    onResetStatus: function (  ) {\r\n\r\n        var tempNode = null;\r\n\r\n        var comStr = '';\r\n\r\n        // 如果点击翻棋后，要把所有的被选中的棋子恢复成原来状态\r\n        for (let index = 0; index < this.tableNodes.length; index++) {\r\n\r\n            for (let jndex = 0; jndex < this.tableNodes[index].length; jndex++) {\r\n\r\n                if ( !this.tableNodes[index][jndex].isDie ) {\r\n\r\n                    tempNode = this.tableNodes[index][jndex].animal;\r\n\r\n                    // comStr   = tempNode.componentStr;\r\n                    comStr   = \"Animal\";\r\n\r\n                    if ( this._selfUID == tempNode.getComponent(comStr).onGetAnimalCode() ){\r\n\r\n                        if ( tempNode.getComponent(comStr).getAnimalIsBig() ) {\r\n\r\n                            tempNode.getComponent(comStr).onRunSmall();\r\n\r\n                        } else {\r\n\r\n\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    onClearTabel: function (  ) {\r\n\r\n        var tempNode = null;\r\n\r\n        var comStr = '';\r\n\r\n        // 清除所有动物 需要重新初始化\r\n        for (let index = 0; index < this.tableNodes.length; index++) {\r\n\r\n            for (let jndex = 0; jndex < this.tableNodes[index].length; jndex++) {\r\n\r\n                if ( !this.tableNodes[index][jndex].isDie ) {\r\n\r\n                    tempNode = this.tableNodes[index][jndex].animal;\r\n\r\n                    // comStr   = tempNode.componentStr;\r\n                    comStr   = \"Animal\";\r\n\r\n                    tempNode.getComponent(comStr).onDestory();\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n\r\n    },\r\n\r\n    onRestart: function (  ) {\r\n\r\n        this.onClearTabel();\r\n\r\n        this.init();\r\n\r\n        this.initUI();\r\n\r\n        this.openUpdate();\r\n\r\n        this.onOptionalTimeAni();\r\n\r\n    },\r\n\r\n// ******** 操作倒计时 ************\r\n\r\n    // 打开倒计时函数\r\n    openUpdate: function () {\r\n\r\n        var interval    = 1;                    //以秒为单位的时间间隔\r\n\r\n        var repeat      = this.defalutTiem;     //重复次数\r\n\r\n        var delay       = 0;                    //开始延时\r\n        \r\n        this.schedule( this.onTimeDownCallback,  interval, repeat, delay);\r\n\r\n    },\r\n\r\n    // 关闭倒计时函数\r\n    closeUpdate: function () {\r\n\r\n        console.log( \" closeUpdate ********************** \" );\r\n\r\n        this.unschedule(this.onTimeDownCallback);\r\n\r\n        this.count = 30;\r\n\r\n        this._isCanOptional = false;\r\n\r\n    },\r\n\r\n    // 倒计时回调\r\n    onTimeDownCallback: function (  ) {\r\n\r\n        this.count -= 1;\r\n\r\n        if ( this.count < 0 ){\r\n\r\n            this.closeUpdate();\r\n\r\n            // this.onSendGameData(\"c_douShouQi_renShu\", {});\r\n\r\n            // 给服务器发送切换用户的操作\r\n\r\n        } else {\r\n\r\n            // 设置文本信息\r\n            this.onSetOptionalTime();\r\n\r\n        }\r\n\r\n        \r\n\r\n    },\r\n\r\n    onCanOptionalObj: function (  ) {\r\n\r\n        return this._isCanOptional;\r\n\r\n    },\r\n\r\n// ******** 操作倒计时 ************\r\n    \r\n\r\n// ******** 对象可以移动的方向指示 ********\r\n\r\n    // 检测上下左右是否可以移动\r\n    /**\r\n     * \r\n     * 移动规则为：如果四周有空位置，提示➡箭头出现\r\n     * 1.如果旁边还有箱子，不提箭头\r\n     * 2.如果旁边右自己的动物，不提示箱子\r\n     * \r\n     */\r\n    onCheckRoundMove: function ( row, col, obj ) {\r\n\r\n        var moveDir = { up:false, down:false, left:false, right:false };\r\n\r\n        if ( row - 1 >= 0) {\r\n    \r\n            // 找出(row-1, col) 这个位置的对像\r\n            // 上移动\r\n            var isShowDir = this.onFindAnimalOfIndex( (row-1), col );\r\n\r\n            if ( isShowDir ) {\r\n\r\n                moveDir.up = true;\r\n\r\n            }\r\n            \r\n        }\r\n        \r\n        if ( row + 1 <= 3) {\r\n    \r\n            // 下移动\r\n            var isShowDir = this.onFindAnimalOfIndex( (row+1), col );\r\n\r\n            if ( isShowDir ) {\r\n\r\n                moveDir.down = true;\r\n\r\n            }\r\n    \r\n        } \r\n    \r\n        if ( col - 1 >= 0 ) {\r\n    \r\n            // 左移动\r\n            var isShowDir = this.onFindAnimalOfIndex( row, (col-1) );\r\n\r\n            if ( isShowDir ) {\r\n\r\n                moveDir.left = true;\r\n\r\n            }\r\n            \r\n        } \r\n        \r\n        if ( col + 1 <= 3 ) {\r\n    \r\n            // 右移动\r\n            var isShowDir = this.onFindAnimalOfIndex( row, (col+1) );\r\n\r\n            if ( isShowDir ) {\r\n\r\n                moveDir.right = true;\r\n\r\n            }\r\n    \r\n        }\r\n\r\n        if ( (row < 0 || col < 0) || ( row > 3 || col > 3 ) ) {\r\n    \r\n            moveDir = { up:false, down:false, left:false, right:false };\r\n    \r\n        }\r\n\r\n        this.node_dir.x = this.tableNodes[row][col].animal.x;\r\n\r\n        this.node_dir.y = this.tableNodes[row][col].animal.y + 10;\r\n\r\n        // if ( moveDir.up || moveDir.down || moveDir.left || moveDir.right ){\r\n\r\n        //     this.node_dir.node.active = true;\r\n\r\n        //     this.node_dir.node.opacity = 255;\r\n\r\n        // }\r\n\r\n        this.onTipMoveDirection( moveDir );\r\n\r\n    },\r\n\r\n    onFindAnimalOfIndex: function ( row, col ) {\r\n\r\n        var tempNode = null;\r\n\r\n        var comStr = '';\r\n\r\n        var isShowDir = false;\r\n\r\n        if ( !this.tableNodes[row][col].isDie ) {\r\n\r\n            tempNode = this.tableNodes[row][col].animal;\r\n\r\n            // comStr = tempNode.componentStr;\r\n            comStr   = \"Animal\";\r\n\r\n            // 当前箱子没有坏掉\r\n            if ( !tempNode.getComponent(comStr).getAnimalIsBreak() ) {\r\n\r\n                // 此种情况 不显示这个方向的 方向标\r\n                isShowDir = false;\r\n\r\n            } else {\r\n\r\n                // isShowDir = true;\r\n                if ( this.onIsSelfdoit() && this._selfUID == tempNode.getComponent(comStr).onGetAnimalCode() ) {\r\n\r\n                    isShowDir = false;\r\n    \r\n                } else {\r\n\r\n                    isShowDir = true;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            isShowDir = true;\r\n\r\n        }\r\n\r\n        return isShowDir;\r\n\r\n    },\r\n\r\n        //  选中后提示玩家可以移动的方向 ()\r\n    /**\r\n     * 根据当前位置（x y）计算 上下左右 四个方向是否可以移动\r\n     * 如果某个方向可以移动，则展示提示动画\r\n     */\r\n    onTipMoveDirection: function ( moveDir ) {\r\n\r\n        if ( moveDir.up ) {\r\n\r\n            // 播放上动画\r\n            this.onRepeatAction( this.sp_up, \"up\" );\r\n\r\n        }\r\n\r\n        if ( moveDir.down ) {\r\n\r\n            // 播放下动画\r\n            this.onRepeatAction( this.sp_down, \"down\" );\r\n\r\n        }\r\n\r\n        if ( moveDir.left ) {\r\n\r\n            // 播放左动画\r\n            this.onRepeatAction( this.sp_left, \"left\" );\r\n\r\n        }\r\n\r\n        if ( moveDir.right ) {\r\n\r\n            // 播放右动画\r\n            this.onRepeatAction( this.sp_right, \"right\" );\r\n\r\n        }\r\n\r\n    },\r\n\r\n        /**\r\n     * @nodeObj: 哪个对象执行\r\n     * @dirStr: 方向\r\n     */\r\n    onRepeatAction: function ( nodeObj, dirStr ) {\r\n\r\n        nodeObj.node.active = true;\r\n\r\n        nodeObj.node.opacity = 255;\r\n\r\n        var animState = nodeObj.play(dirStr);\r\n\r\n        // 设置循环模式为 Loop\r\n        animState.wrapMode = cc.WrapMode.Loop;\r\n\r\n        // 设置动画循环次数为无限次\r\n        animState.repeatCount = Infinity;\r\n\r\n    },\r\n\r\n    onStopRepeatAction: function ( nodeObj, dirStr ) {\r\n\r\n        nodeObj.node.active = false;\r\n\r\n        nodeObj.node.opacity = 0;\r\n\r\n        nodeObj.stop(dirStr);\r\n\r\n    },\r\n\r\n    // 隐藏四个方向小标\r\n    onHideTipDir: function (  ) {\r\n\r\n        // 停止播放上动画\r\n        this.onStopRepeatAction( this.sp_up, \"up\" );\r\n\r\n        // 停止播放下动画\r\n        this.onStopRepeatAction( this.sp_down, \"down\" );\r\n\r\n        // 停止播放左动画\r\n        this.onStopRepeatAction( this.sp_left, \"left\" );\r\n\r\n        // 停止播放右动画\r\n        this.onStopRepeatAction( this.sp_right, \"right\" );\r\n\r\n    },\r\n\r\n// ****************** 对象可以移动的方向指示 ******************\r\n\r\n// ******************     被消灭的动画     ******************\r\n\r\n    onPlayDestoryAni: function ( row, col ) {\r\n\r\n        this.sp_destory.node.x = this.allPos[row][col].x;\r\n\r\n        this.sp_destory.node.y = this.allPos[row][col].y;\r\n\r\n        this.onDestoryAnimation();\r\n        \r\n    },\r\n\r\n    onDestoryAnimation: function () {\r\n\r\n        this.sp_destory.node.active = true;\r\n\r\n        this.sp_destory.node.opacity = 255;\r\n\r\n        var animState = this.sp_destory.play(\"destory\");\r\n\r\n        var self = this;\r\n\r\n        function onFinished (  ) {\r\n\r\n            console.log( \"onFinished\" );\r\n\r\n            self.sp_destory.node.active = false;\r\n\r\n            self.sp_destory.node.opacity = 0;\r\n\r\n        };\r\n\r\n        animState.on('finished',  onFinished,  this.sp_destory);\r\n\r\n    },\r\n\r\n// ******************  被消灭的动画   ******************\r\n\r\n// ****************** 操作时间过度动画 ******************\r\n\r\n    /**\r\n     * 随机出操作方\r\n     * 根据随机出来的对象，显示操作时间\r\n     * 显示要求：（假设，随机出来的是红方先操作）\r\n     * 1.红方时间面板从0放大到1的过程；30s后面板从1到0缩小，然后显示白板0.5s，0.5s后白板隐藏，\r\n     * 蓝色面板从0放大到1的过程；然后重复循环此过程\r\n     */\r\n    onOptionalTimeAni: function (  ) {\r\n\r\n        if ( this.onIsSelfdoit() ) {\r\n\r\n            this.onRedBoardAni( true );\r\n\r\n        } else {\r\n\r\n            this.onBlueBoardAni( true );\r\n\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * optionalObj: 操作方\r\n     */\r\n    onRedBoardAni: function ( optionalObj ) {\r\n\r\n        if ( optionalObj ) {\r\n\r\n            // 红面板从0放大到1的过程；\r\n\r\n            var scale = cc.scaleTo( 0.2, 1, 1 );\r\n\r\n            var delay = cc.delayTime( 0.2 );\r\n\r\n            var self = this;\r\n\r\n            function onFinishCallback (  ){\r\n\r\n                self.sp_white.node.scale = 0;\r\n\r\n                var scale2 = cc.scaleTo( 0.2, 1, 1 );\r\n    \r\n                self.sp_red_time.node.runAction( scale2 );\r\n\r\n                self._isCanOptional = true;\r\n\r\n                self.openUpdate();\r\n\r\n            };\r\n\r\n            var seq = cc.sequence(  scale,\r\n                                    delay,\r\n                                    cc.callFunc( onFinishCallback, this, this.sp_white ) );\r\n\r\n            this.sp_white.node.runAction( seq );\r\n\r\n        } else {\r\n\r\n            // 红面板从1缩小到0的过程；\r\n            var scale = cc.scaleTo( 0.2, 1, 0 );\r\n\r\n            var self = this;\r\n\r\n            function onFinishCallback (  ){\r\n\r\n\r\n            };\r\n\r\n            var seq = cc.sequence( scale, \r\n            cc.callFunc( onFinishCallback, this, this.sp_red_time ) );\r\n\r\n            this.sp_red_time.node.runAction( seq );\r\n\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * optionalObj: 操作方\r\n     */\r\n    onBlueBoardAni: function ( optionalObj ) {\r\n\r\n        if ( optionalObj ) {\r\n\r\n            // 红面板从0放大到1的过程\r\n\r\n            var scale = cc.scaleTo( 0.2, 1, 1 );\r\n\r\n            var delay = cc.delayTime( 0.2 );\r\n\r\n            var self = this;\r\n\r\n            function onFinishCallback (  ){\r\n\r\n                self.sp_white.node.scale = 0;\r\n\r\n                var scale1 = cc.scaleTo( 0.2, 1, 1 );\r\n\r\n                self.sp_blue_time.node.runAction( scale1 );\r\n\r\n                self._isCanOptional = true;\r\n\r\n                self.openUpdate();\r\n\r\n            };\r\n\r\n            var seq = cc.sequence(  scale,\r\n                                    delay,\r\n                                    cc.callFunc( onFinishCallback, this, this.sp_white ) );\r\n\r\n            this.sp_white.node.runAction( seq );\r\n\r\n        } else {\r\n\r\n            // 红面板从1缩小到0的过程；\r\n            var scale = cc.scaleTo( 0.2, 1, 0 );\r\n\r\n            var self = this;\r\n\r\n            function onFinishCallback (  ){\r\n\r\n\r\n            };\r\n\r\n            var seq = cc.sequence( scale, \r\n                                    cc.callFunc( onFinishCallback, this, this.sp_blue_time ) );\r\n\r\n            this.sp_blue_time.node.runAction( seq );\r\n\r\n        }\r\n\r\n    },\r\n\r\n        /**\r\n     * optionalObj: 操作方\r\n     */\r\n    onWhiteBoardAni: function ( optionalObj ) {\r\n\r\n        var scale = cc.scaleTo( 0.5, 1, 1 );\r\n\r\n        var self = this;\r\n\r\n        function onFinishCallback (  ) {\r\n\r\n            self.sp_white.node.active = false;\r\n\r\n            self.sp_white.node.opacity = 0;\r\n\r\n            self.sp_white.node.scaleY = 0;\r\n\r\n            console.log( \" onFinishCallback onWhiteBoardAni \", optionalObj );\r\n\r\n            if ( optionalObj == \"red\" ) {\r\n\r\n                self.onBlueBoardAni( true );\r\n\r\n            } else {\r\n\r\n                self.onRedBoardAni( true );\r\n\r\n            }\r\n\r\n        }\r\n\r\n        var seq = cc.sequence( scale, \r\n        cc.callFunc(onFinishCallback, this, this.sp_white) );\r\n\r\n        this.sp_white.node.runAction( seq );\r\n\r\n\r\n    },\r\n\r\n    // 设置玩家操作时间\r\n    onSetOptionalTime: function (  ) {\r\n\r\n        if ( this._doItUID != this._selfUID ) {\r\n\r\n            this.label_blue_time.string = this.count.toString() + \"s\";\r\n\r\n        } else {\r\n\r\n            this.label_red_time.string = this.count.toString() + \"s\";\r\n\r\n        }\r\n\r\n    },\r\n\r\n// ****************** 操作时间过度动画 ******************\r\n\r\n// ******************     提示框     ******************\r\n/**\r\n * tipStr: 提示文字\r\n */\r\n    onAddTip: function ( tipStr ) {\r\n\r\n        this.label_tip.string = tipStr;\r\n\r\n        if ( this._isShowTip ) {\r\n\r\n            return;\r\n\r\n        } else {\r\n\r\n            this.onShowtip();\r\n\r\n        }\r\n\r\n    },\r\n\r\n    onShowtip: function (  ) {\r\n\r\n        var self = this;\r\n\r\n        this._isShowTip = true;\r\n\r\n        this.sp_tip.node.active = true;\r\n\r\n        this.sp_tip.node.opacity = 255;\r\n\r\n        // 缩小放大动画\r\n        var scale = cc.scaleTo(0.2, 1);\r\n\r\n        function onActionFinishCall (  ){\r\n\r\n            // this.sp_tip.node.scale = 0;\r\n            self.onHidetip();\r\n\r\n        };\r\n\r\n        var delay = cc.delayTime(0.8);\r\n\r\n        var seq = cc.sequence( scale, delay, \r\n                                cc.callFunc(onActionFinishCall, this, this.sp_tip) );\r\n\r\n        this.sp_tip.node.runAction( seq );\r\n\r\n    },\r\n\r\n    onHidetip: function (  ) {\r\n\r\n        // 缩小放大动画\r\n        var scale = cc.scaleTo(0.1, 0);\r\n\r\n        function onActionFinishCall (  ){\r\n\r\n            this.sp_tip.node.scale = 0;\r\n\r\n            this._isShowTip = false;\r\n\r\n        };\r\n\r\n        var seq = cc.sequence( scale, cc.callFunc(onActionFinishCall, this, this.sp_tip));\r\n\r\n        this.sp_tip.node.runAction( seq );\r\n\r\n    },\r\n\r\n    // 弹出 确认取消框\r\n    onAddAlert: function ( descStr, labelRedBtn = \"拒绝\", labelBlueBtn = \"同意\" ) {\r\n\r\n        this.label_alert.string = descStr;\r\n\r\n        this.label_red_btn.string = labelRedBtn;\r\n\r\n        this.label_blue_btn.string = labelBlueBtn;\r\n\r\n        if ( this._isShowAlert ) {\r\n\r\n            return;\r\n\r\n        } else {\r\n\r\n            this.onShowAlert();\r\n\r\n        }\r\n\r\n    },\r\n\r\n    onShowAlert: function (  ) {\r\n\r\n        var self = this;\r\n\r\n        this._isShowAlert = true;\r\n\r\n        // this.sp_alert.opacity = 255;\r\n\r\n        // 缩小放大动画\r\n        var scale = cc.scaleTo(0.2, 1);\r\n\r\n        function onActionFinishCall (  ){\r\n\r\n            console.log( \" onActionFinishCall \" );\r\n\r\n        };\r\n\r\n        var delay = cc.delayTime(0.8);\r\n\r\n        var seq = cc.sequence( scale, delay, \r\n                                cc.callFunc(onActionFinishCall, this, this.sp_alert) );\r\n\r\n        this.sp_alert.node.runAction( seq );\r\n\r\n    },\r\n\r\n    onHideAlert: function (  ) {\r\n\r\n        // 缩小放大动画\r\n        var scale = cc.scaleTo(0.1, 0);\r\n\r\n        var $this = this;\r\n\r\n        function onActionFinishCall (  ){\r\n\r\n            $this.sp_alert.node.scale = 0;\r\n\r\n            $this._isShowAlert = false;\r\n\r\n            $this._alertStr = \"\";\r\n\r\n        };\r\n\r\n        var seq = cc.sequence( scale, cc.callFunc(onActionFinishCall, this, this.sp_alert));\r\n\r\n        this.sp_alert.node.runAction( seq );\r\n\r\n    },\r\n\r\n\r\n// ******************    提示框    ******************\r\n\r\n// ******************    结算页面    ******************\r\n\r\n    onAddResultLayer: function ( youWin ) {\r\n\r\n        var self = this;\r\n\r\n        var resutlLayer = cc.instantiate( this.result_prefab );\r\n\r\n        resutlLayer.addComponent('GameResult');\r\n\r\n        resutlLayer.setLocalZOrder(100);\r\n\r\n        resutlLayer.parent = this.nodeResult;\r\n\r\n        resutlLayer.x = 320;\r\n\r\n        resutlLayer.y = 568;\r\n\r\n        function onCallback (  ) {\r\n\r\n            console.log( \" onCallback \" );\r\n\r\n            // self.onRestart();\r\n\r\n        };\r\n\r\n        resutlLayer.getComponent('GameResult').onInitUI();\r\n\r\n        resutlLayer.getComponent('GameResult').onSetGameResultInfo( youWin, onCallback );\r\n\r\n    },\r\n\r\n// ******************    结算页面   ******************\r\n\r\n});\r\n"]}