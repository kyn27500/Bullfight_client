{"version":3,"sources":["GameItem.js"],"names":["HallData","require","requestHandler","config","events","texts","cc","Class","extends","Component","properties","labPeopleCount","Label","spGameIcon","Sprite","btnGame","Layout","itemData","callback","onLoad","onClick","console","log","appId","appName","isNetwork","data","sendRequest","hall","C2S_GAME_READY","director","loadScene","scene","setCurGameInfo","updateItem","pItemData","string","people","PLAYER_COUNT","sprite","getComponent","loader","loadRes","icon","SpriteFrame","errorMessage","loadedResource","spriteFrame"],"mappings":";;;;;;AAAA;AACA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,iBAAiBD,QAAQ,gBAAR,CAArB;AACA,IAAIE,SAASF,QAAQ,QAAR,CAAb;AACA,IAAIG,SAASH,QAAQ,cAAR,CAAb;AACA,IAAII,QAAQJ,QAAQ,MAAR,CAAZ;;AAEAK,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,wBAAgBL,GAAGM,KADX;AAERC,oBAAYP,GAAGQ,MAFP;AAGRC,iBAAST,GAAGU,MAHJ;AAIRC,kBAAU,IAJF;AAKRC,kBAAU;AALF,KAHP;;AAWLC,YAAQ,kBAAW,CAAE,CAXhB;;AAaLC,aAAS,mBAAW;AAChBC,gBAAQC,GAAR,CAAY,eAAe,KAAKL,QAAL,CAAcM,KAAzC,EAAgD,KAAKN,QAAL,CAAcO,OAA9D;AACA,YAAIrB,OAAOsB,SAAX,EAAsB;AAClB,gBAAIC,OAAO;AACPH,uBAAO,KAAKN,QAAL,CAAcM;AADd,aAAX;AAGArB,2BAAeyB,WAAf,CAA2BvB,OAAOwB,IAAP,CAAYC,cAAvC,EAAuDH,IAAvD;AACH,SALD,MAKO;AACHpB,eAAGwB,QAAH,CAAYC,SAAZ,CAAsB,KAAKd,QAAL,CAAce,KAApC;AACH;AACDhC,iBAASiC,cAAT,CAAwB,KAAKhB,QAA7B;AAEH,KAzBI;AA0BL;AACAiB,gBAAY,oBAASC,SAAT,EAAoB;AAC5B,aAAKlB,QAAL,GAAgBkB,SAAhB;AACA,aAAKxB,cAAL,CAAoByB,MAApB,GAA6B,KAAKnB,QAAL,CAAcoB,MAAd,GAAuBhC,MAAMuB,IAAN,CAAWU,YAA/D;AACA,YAAIC,SAAS,KAAK1B,UAAL,CAAgB2B,YAAhB,CAA6BlC,GAAGQ,MAAhC,CAAb;AACAR,WAAGmC,MAAH,CAAUC,OAAV,CAAkB,cAAc,KAAKzB,QAAL,CAAc0B,IAA9C,EAAoDrC,GAAGsC,WAAvD,EAAoE,UAASC,YAAT,EAAuBC,cAAvB,EAAuC;AACvGP,mBAAOQ,WAAP,GAAqBD,cAArB;AACH,SAFD;AAGH;AAlCI,CAAT","file":"GameItem.js","sourceRoot":"../../../../../../../assets/resources/Script/view/hall","sourcesContent":["// 大厅游戏条目Prefab\nvar HallData = require(\"HallData\");\nvar requestHandler = require(\"RequestHandler\");\nvar config = require(\"config\");\nvar events = require(\"CustomEvents\");\nvar texts = require(\"Text\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        labPeopleCount: cc.Label,\n        spGameIcon: cc.Sprite,\n        btnGame: cc.Layout,\n        itemData: null,\n        callback: null,\n    },\n\n    onLoad: function() {},\n\n    onClick: function() {\n        console.log(\"---- 游戏ID：\" + this.itemData.appId, this.itemData.appName);\n        if (config.isNetwork) {\n            var data = {\n                appId: this.itemData.appId\n            };\n            requestHandler.sendRequest(events.hall.C2S_GAME_READY, data);\n        } else {\n            cc.director.loadScene(this.itemData.scene);\n        }\n        HallData.setCurGameInfo(this.itemData);\n\n    },\n    // 更新列表\n    updateItem: function(pItemData) {\n        this.itemData = pItemData;\n        this.labPeopleCount.string = this.itemData.people + texts.hall.PLAYER_COUNT;\n        var sprite = this.spGameIcon.getComponent(cc.Sprite);\n        cc.loader.loadRes(\"gameIcon/\" + this.itemData.icon, cc.SpriteFrame, function(errorMessage, loadedResource) {\n            sprite.spriteFrame = loadedResource;\n        });\n    },\n});"]}