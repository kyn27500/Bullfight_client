{"version":3,"sources":["JoinRoom.js"],"names":["self","requestHandler","require","onfire","events","GameData","cc","Class","extends","Component","properties","editBox","EditBox","btnEnter","Button","btnCancel","onLoad","on","hall","userJoinRoomS2C","joinRoomS2C","string","onClickForEnter","roomCode","console","log","data","roomNo","sendRequest","userJoinRoomC2S","onClickForCancel","node","removeFromParent","result","setRoomCode","director","loadScene","fire","game","GAME_DATA"],"mappings":";;;;;;AAAA,IAAIA,aAAJ;AACA,IAAIC,iBAAiBC,QAAQ,gBAAR,CAArB;AACA,IAAIC,SAASD,QAAQ,QAAR,CAAb;AACA,IAAIE,SAASF,QAAQ,cAAR,CAAb;AACA,IAAIG,WAAWH,QAAQ,UAAR,CAAf;AACAI,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAASL,GAAGM,OADJ;AAERC,kBAAUP,GAAGQ,MAFL;AAGRC,mBAAWT,GAAGQ;AAHN,KAHP;;AASL;AACAE,YAAQ,kBAAY;AAChBhB,eAAO,IAAP;AACAG,eAAOc,EAAP,CAAUb,OAAOc,IAAP,CAAYC,eAAtB,EAAuCnB,KAAKoB,WAA5C;AACApB,aAAKW,OAAL,CAAaU,MAAb,GAAsB,QAAtB;AACH,KAdI;;AAgBLC,mBAhBK,6BAgBY;AACb,YAAIC,WAAWvB,KAAKW,OAAL,CAAaU,MAA5B;AACAG,gBAAQC,GAAR,CAAYF,QAAZ;;AAEA,YAAIG,OAAO;AACPC,oBAAOJ;AADA,SAAX;AAGAtB,uBAAe2B,WAAf,CAA2BxB,OAAOc,IAAP,CAAYW,eAAvC,EAAwDH,IAAxD;AAGH,KA1BI;AA2BLI,oBA3BK,8BA2Ba;AACd9B,aAAK+B,IAAL,CAAUC,gBAAV;AACH,KA7BI;AA+BLZ,eA/BK,uBA+BOM,IA/BP,EA+BY;AACbF,gBAAQC,GAAR,CAAYC,IAAZ;AACA,YAAGA,KAAKO,MAAL,IAAa,CAAhB,EAAkB;AACd5B,qBAAS6B,WAAT,CAAqBlC,KAAKW,OAAL,CAAaU,MAAlC;AACAf,eAAG6B,QAAH,CAAYC,SAAZ,CAAsB,MAAtB,EAA8B,YAAW;AACrCjC,uBAAOkC,IAAP,CAAYjC,OAAOkC,IAAP,CAAYC,SAAxB,EAAmCb,IAAnC;AACH,aAFD;AAGH,SALD,MAKK,CAEJ;AACJ;AAzCI,CAAT","file":"JoinRoom.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\resources\\Script\\view","sourcesContent":["let self;\r\nvar requestHandler = require(\"RequestHandler\");\r\nvar onfire = require(\"onfire\");\r\nvar events = require(\"CustomEvents\");\r\nvar GameData = require(\"GameData\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        editBox: cc.EditBox,\r\n        btnEnter: cc.Button,\r\n        btnCancel: cc.Button,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        self = this;\r\n        onfire.on(events.hall.userJoinRoomS2C, self.joinRoomS2C);\r\n        self.editBox.string = '222222';\r\n    },\r\n\r\n    onClickForEnter(){\r\n        var roomCode = self.editBox.string;\r\n        console.log(roomCode);\r\n\r\n        var data = {\r\n            roomNo:roomCode\r\n        };\r\n        requestHandler.sendRequest(events.hall.userJoinRoomC2S, data);\r\n        \r\n\r\n    },\r\n    onClickForCancel(){\r\n        self.node.removeFromParent();\r\n    },\r\n\r\n    joinRoomS2C(data){\r\n        console.log(data);\r\n        if(data.result==0){\r\n            GameData.setRoomCode(self.editBox.string);\r\n            cc.director.loadScene(\"bull\", function() {\r\n                onfire.fire(events.game.GAME_DATA, data);\r\n            });\r\n        }else{\r\n\r\n        }\r\n    }\r\n\r\n\r\n});\r\n"]}