{"version":3,"sources":["ResponseHandler.js"],"names":["onfire","require","ResponseHandler","receiveResponse","obj","console","log","JSON","stringify","response","parse","data","fire","messageCode","body","registerResponse","messageID","callback","context","on","toString","unRegisterALLResponse","un","unRegisterResponse","eventID","receiveResponseEvent","data1","data2","module","exports"],"mappings":";;;;;;AAAA,IAAIA,SAASC,QAAQ,QAAR,CAAb,EAAgC;;AAEhC,IAAIC,kBAAkB;AAClBC,qBAAiB,yBAASC,GAAT,EAAc;AAC3BC,gBAAQC,GAAR,CAAY,kBAAZ,EAAgCC,KAAKC,SAAL,CAAeJ,GAAf,CAAhC;AACA,YAAIK,WAAWF,KAAKG,KAAL,CAAWN,IAAIO,IAAf,CAAf;AACA;;AAEA;AACAX,eAAOY,IAAP,CAAYH,SAASI,WAArB,EAAkCN,KAAKG,KAAL,CAAWD,SAASK,IAApB,CAAlC;AACH,KARiB;;AAUlBC,sBAAkB,0BAASC,SAAT,EAAoBC,QAApB,EAA8BC,OAA9B,EAAuC;AACrD,eAAOlB,OAAOmB,EAAP,CAAUH,UAAUI,QAAV,EAAV,EAAgCH,QAAhC,EAA0CC,OAA1C,CAAP;AACH,KAZiB;AAalBG,2BAAuB,+BAASL,SAAT,EAAoB;AACvChB,eAAOsB,EAAP,CAAUN,UAAUI,QAAV,EAAV;AACH,KAfiB;AAgBlBG,wBAAoB,4BAASC,OAAT,EAAkB;AAClCxB,eAAOsB,EAAP,CAAUE,OAAV;AACH;AAlBiB,CAAtB;;AAqBA;AACA,IAAIC,uBAAuBzB,OAAOmB,EAAP,CAAU,WAAV,EAAuB,UAASO,KAAT,EAAgBC,KAAhB,EAAuB;AACrEzB,oBAAgBC,eAAhB,CAAgCuB,KAAhC,EAAuCC,KAAvC;AACH,CAF0B,CAA3B;;AAIAC,OAAOC,OAAP,GAAiB3B,eAAjB","file":"ResponseHandler.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\resources\\Script\\network","sourcesContent":["var onfire = require(\"onfire\"); //处理事件的类库\r\n\r\nvar ResponseHandler = {\r\n    receiveResponse: function(obj) {\r\n        console.log('receiveResponse:', JSON.stringify(obj));\r\n        var response = JSON.parse(obj.data);\r\n        // 在此处增加md5校验\r\n\r\n        // 按协议号分发\r\n        onfire.fire(response.messageCode, JSON.parse(response.body));\r\n    },\r\n\r\n    registerResponse: function(messageID, callback, context) {\r\n        return onfire.on(messageID.toString(), callback, context);\r\n    },\r\n    unRegisterALLResponse: function(messageID) {\r\n        onfire.un(messageID.toString());\r\n    },\r\n    unRegisterResponse: function(eventID) {\r\n        onfire.un(eventID);\r\n    },\r\n};\r\n\r\n// 注册接收网络事件\r\nvar receiveResponseEvent = onfire.on('onmessage', function(data1, data2) {\r\n    ResponseHandler.receiveResponse(data1, data2);\r\n});\r\n\r\nmodule.exports = ResponseHandler;"]}